(this["webpackJsonpnew-todo"]=this["webpackJsonpnew-todo"]||[]).push([[13],{109:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(0),l=a.n(n),c=function(e){var t=e.modalClass,a=e.modalText,n=e.modalFunction;return l.a.createElement("div",{id:t},l.a.createElement("div",{className:"showWindow"},l.a.createElement("div",{className:t},l.a.createElement("div",{className:"top-show-content"},l.a.createElement("button",{id:"deleteShowModal",type:"button",className:"btn btn-outline-secondary btn-sm",onClick:function(){n("modal")}},"\xd7"),l.a.createElement("p",null,a)))))}},148:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(29),o=a(112),r=a(105),s=a(109),m=a(7),i=a(149),u=a(147),d=a(113),E=a(111),f=a(104),j=Object(n.memo)((function(e){var t=e.dates,a=e.userInfo,n=e.newProjects,c=e.sizeArray,o=(e.openProject,e.clouseProject,e.openCurrentProject),r=e.clouseCurrentProject,s=e.windowWidth,j=e.setAlertClass,w=e.setAlertText,h=e.setFunct,C=e.setModalText,p=e.setModalClass,b=e.setId,N=(e.modalClass,e.openClientTableClass),P=m.a.auth.currentUser.uid,v=t.find((function(e){return e.owner===P}));v||(v={dateStart:"1970-01-01T00:00",dateFinish:"2070-01-01T00:00"});var z=function(e,t){for(var a=0,n=0;a<e;)n+=t[a].size,a++;return n};return l.a.createElement("form",null,l.a.createElement(i.a,{component:"ul",className:"project-group"},n.map((function(e){var t=Object(E.a)(e),m=f(new Date(e.projectReadinessDate)).format("YYYY-MM-DD")>=f(new Date).format("YYYY-MM-DD")?"goodTime":"badTime",i="\u0422\u0430\u043a"===e.signatur\u0443OfAct?"good":"bad",P="\u0422\u0430\u043a"===e.poketExistence?"good":"bad",v="\u0422\u0430\u043a"===e.contractExistence?"good":"bad";return l.a.createElement(u.a,{key:e.id,classNames:"note",timeout:800},l.a.createElement("li",{key:e.id,className:"project-group-item projectInnerLi"},!e.openProject&&l.a.createElement("div",{key:e.id,className:"projectBasis"},l.a.createElement("div",{className:"d-flex justify-content-between"},l.a.createElement("table",{className:"projectTable",onClick:function(){return o(e)}},l.a.createElement("tbody",null,l.a.createElement("tr",{align:"center"},s>75+z(1,c)&&l.a.createElement("td",{width:c[0].size,className:"head"},l.a.createElement("small",{className:"projectName"},t[0])),s>75+z(2,c)&&l.a.createElement("td",{width:c[1].size,className:"head ".concat(m)},l.a.createElement("small",{className:"smallProjectDateBold"},"".concat(f(t[1]).format("DD.MM.YY")))),s>75+z(3,c)&&l.a.createElement("td",{width:c[2].size},l.a.createElement("small",{className:v},t[2])),s>75+z(4,c)&&l.a.createElement("td",{width:c[3].size},l.a.createElement("small",{className:i},t[3])),s>75+z(5,c)&&l.a.createElement("td",{width:c[4].size},l.a.createElement("small",{className:P},t[4])),s>75+z(6,c)&&l.a.createElement("td",{width:c[5].size},l.a.createElement("small",null,t[5])),s>75+z(7,c)&&l.a.createElement("td",{width:c[6].size},l.a.createElement("small",null,t[6])),s>75+z(8,c)&&l.a.createElement("td",{width:c[7].size},l.a.createElement("small",null,t[7])),s>75+z(9,c)&&l.a.createElement("td",{width:c[8].size,className:"head"},l.a.createElement("small",null,"".concat(f(t[8]).format("DD.MM.YY")))),s>75+z(10,c)&&l.a.createElement("td",{width:c[9].size},l.a.createElement("small",null,t[9])),s>75+z(11,c)&&l.a.createElement("td",{width:c[10].size},l.a.createElement("small",null,t[10])),s>75+z(12,c)&&l.a.createElement("td",{width:c[11].size},l.a.createElement("small",null,t[11])),s>75+z(13,c)&&l.a.createElement("td",{width:c[12].size},l.a.createElement("small",null,t[12])),s>75+z(14,c)&&l.a.createElement("td",{width:c[13].size},l.a.createElement("small",null,t[13]))))),!e.openProject&![].length&a.company===a.jointCompany&&l.a.createElement("button",{id:"deleteProjectBtn",type:"button",className:"btn btn-outline-danger btn-sm deleteProjectBtn",onClick:function(){b(e.id),h("removeList"),C("\u0412\u0438\u0434\u0430\u043b\u0435\u043d\u043d\u044f \u043f\u0440\u043e\u0435\u043a\u0442\u0443! \u0414\u043b\u044f \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043d\u044f \u043a\u043b\u0456\u0454\u043d\u0442\u0443 \u043d\u0435\u043e\u0431\u0445\u0456\u0434\u043d\u043e \u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0432\u0441\u0456 \u043f\u0440\u043e\u0435\u043a\u0442\u0438!!!"),p()}},"\u0425"))),l.a.createElement("div",null,l.a.createElement("div",{className:"clouseProjectBasis",onClick:function(){return r(e)}},e.openProject&&l.a.createElement("table",{className:"clouseProjectForm"},l.a.createElement("tbody",null,l.a.createElement("tr",{className:"clouseProjectTableButton"},l.a.createElement("td",null,"\u0417\u0430\u043a\u0440\u0438\u0442\u0438 \u0444\u043e\u0440\u043c\u0443 \u043f\u0440\u043e\u0435\u043a\u0442\u0430"))))),e.openProject&&l.a.createElement(d.a,{className:N,project:e,setAlertText:w,setAlertClass:j,newProjects:n,userInfo:a}))))}))))})),w=Object(n.memo)((function(e){var t=e.windowWidth,a=(e.clientType,e.dates),i=e.userInfos,u=e.clients,d=e.projects,f=e.removeClient,w=e.addProject,h=e.openProject,C=e.clouseProject,p=e.removeProject,b=e.openCurrentProject,N=e.clouseCurrentProject,P=Object(n.useState)("modal"),v=Object(c.a)(P,2),z=v[0],F=v[1],k=Object(n.useState)(""),D=Object(c.a)(k,2),y=D[0],O=D[1],T=Object(n.useState)("modal"),g=Object(c.a)(T,2),x=g[0],I=g[1],M=Object(n.useState)(""),Y=Object(c.a)(M,2),A=Y[0],S=Y[1],B=Object(n.useState)(),W=Object(c.a)(B,2),L=W[0],U=W[1],R=Object(n.useState)(),J=Object(c.a)(R,2),q=J[0],G=J[1],H=function(){(x="modal")?I("open"):I("modal")},K=m.a.auth.currentUser.uid,Q=i.find((function(e){return e.owner===K}));if(!Q)return null;var V=i.find((function(e){return e.company===Q.jointCompany}));if(!V)return null;if((u=u.filter((function(e){return e.owner===V.owner}))).sort((function(e,t){return new Date(t.registrationDate)-new Date(e.registrationDate)})),0===u.length)return null;var X=Object(E.b)(t),Z=function(e,t){for(var a=0,n=0;a<e;)n+=t[a].size,a++;return n};return d.sort((function(e,t){return new Date(e.projectReadinessDate)-new Date(t.projectReadinessDate)})),l.a.createElement("div",null,l.a.createElement("li",{className:"list-group-item clientInnerLi"},l.a.createElement("div",null,l.a.createElement("div",{className:"d-flex justify-content-between"},l.a.createElement("table",{className:"headTable"},l.a.createElement("tbody",null,l.a.createElement("tr",{align:"center"},t>75+Z(1,X)&&l.a.createElement("td",{width:X[0].size,onClick:function(){S("showFunction"),U(X[0].fullName),H()}},l.a.createElement("small",null,X[0].name)),t>75+Z(2,X)&&l.a.createElement("td",{width:X[1].size,onClick:function(){S("showFunction"),U(X[1].fullName),H()}},l.a.createElement("small",null,X[1].name)),t>75+Z(3,X)&&l.a.createElement("td",{width:X[2].size,onClick:function(){S("showFunction"),U(X[2].fullName),H()}},l.a.createElement("small",null,X[2].name)),t>75+Z(4,X)&&l.a.createElement("td",{width:X[3].size,onClick:function(){S("showFunction"),U(X[3].fullName),H()}},l.a.createElement("small",null,X[3].name)),t>75+Z(5,X)&&l.a.createElement("td",{width:X[4].size,onClick:function(){S("showFunction"),U(X[4].fullName),H()}},l.a.createElement("small",null,X[4].name)),t>75+Z(6,X)&&l.a.createElement("td",{width:X[5].size,onClick:function(){S("showFunction"),U(X[5].fullName),H()}},l.a.createElement("small",null,X[5].name)),t>75+Z(7,X)&&l.a.createElement("td",{width:X[6].size,onClick:function(){S("showFunction"),U(X[6].fullName),H()}},l.a.createElement("small",null,X[6].name)),t>75+Z(8,X)&&l.a.createElement("td",{width:X[7].size,onClick:function(){S("showFunction"),U(X[7].fullName),H()}},l.a.createElement("small",null,X[7].name)),t>75+Z(9,X)&&l.a.createElement("td",{width:X[8].size,onClick:function(){S("showFunction"),U(X[8].fullName),H()}},l.a.createElement("small",null,X[8].name)),t>75+Z(10,X)&&l.a.createElement("td",{width:X[9].size,onClick:function(){S("showFunction"),U(X[9].fullName),H()}},l.a.createElement("small",null,X[9].name)),t>75+Z(11,X)&&l.a.createElement("td",{width:X[10].size,onClick:function(){S("showFunction"),U(X[10].fullName),H()}},l.a.createElement("small",null,X[10].name)),t>75+Z(12,X)&&l.a.createElement("td",{width:X[11].size,onClick:function(){S("showFunction"),U(X[11].fullName),H()}},l.a.createElement("small",null,X[11].name)),t>75+Z(13,X)&&l.a.createElement("td",{width:X[12].size,onClick:function(){S("showFunction"),U(X[12].fullName),H()}},l.a.createElement("small",null,X[12].name)),t>75+Z(14,X)&&l.a.createElement("td",{width:X[13].size,onClick:function(){S("showFunction"),U(X[13].fullName),H()}},l.a.createElement("small",null,X[13].name)))))),l.a.createElement(j,{dates:a,newProjects:d,addProject:w,openProject:h,clouseProject:C,removeProject:p,openCurrentProject:b,clouseCurrentProject:N,windowWidth:t,setAlertClass:F,setAlertText:O,setFunct:S,setModalText:U,setModalClass:H,setId:G,modalClass:x,sizeArray:X,userInfo:Q}),"removeCar"===A&&l.a.createElement(o.a,{modalClass:x,modalText:L,modalFunction:I,Id:q,innerFunction:f}),"removeList"===A&&l.a.createElement(o.a,{modalClass:x,modalText:L,modalFunction:I,Id:q,innerFunction:p}),"showFunction"===A&&l.a.createElement(s.a,{modalClass:x,modalText:L,modalFunction:I}),l.a.createElement(r.a,{modalClass:z,modalText:y,modalFunction:F})),l.a.createElement("div",{className:"d-flex justify-content-between"})))})),h=a(28),C=a(19),p=Object(n.memo)((function(e){var t=e.windowWidth,a=m.a.auth.currentUser.email;a=a.split("@")[0];var c=Object(n.useContext)(h.a),o=c.clients,r=c.dates,s=c.userInfos,i=c.loading,u=c.fetchClients,d=c.fetchDates,E=c.fetchUsersInfo,f=c.openClient,j=c.clouseClient,p=c.removeClient,b=c.projects,N=c.addProject,P=c.openProject,v=c.clouseProject,z=c.openCurrentProject,F=c.clouseCurrentProject,k=c.removeProject,D=c.fetchProjects;return Object(n.useEffect)((function(){u(),d(),E(),D()}),[]),l.a.createElement("div",null,l.a.createElement("small",null,a),i?l.a.createElement(C.a,null):l.a.createElement(w,{clients:o,dates:r,userInfos:s,openClient:f,clouseClient:j,removeClient:p,addProject:N,openProject:P,clouseProject:v,removeProject:k,clientType:"\u042e\u0440\u0456\u0434\u0438\u0447\u043d\u0438\u0439",windowWidth:t,projects:b,openCurrentProject:z,clouseCurrentProject:F}))}));t.default=p}}]);
//# sourceMappingURL=13.3bb61a52.chunk.js.map