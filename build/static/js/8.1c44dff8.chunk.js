(this["webpackJsonpnew-todo"]=this["webpackJsonpnew-todo"]||[]).push([[8],{119:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(97),c=a(26),o=a(16),m=a(5),s=Object(n.memo)((function(e){var t=e.windowWidth,a="";m.a.auth.currentUser&&(a=(a=m.a.auth.currentUser.email).split("@")[0]);var s=Object(n.useContext)(c.a),i=s.clients,u=s.projects,d=s.payments,p=s.dates,E=s.userInfos,f=s.loading,N=s.fetchClients,b=s.fetchDates,h=s.fetchUsersInfo,v=s.openClient,y=s.clouseClient,C=s.removeClient,w=s.addProject,j=s.openProject,g=s.clouseProject,P=s.removeProject,F=s.openCurrentProject,x=s.clouseCurrentProject,I=s.fetchProjects,O=s.fetchPayments,T=s.addPayment,D=s.openPayment,k=s.clousePayment,Y=s.openNewPayment,S=s.clouseNewPayment;return Object(n.useEffect)((function(){N(),b(),h(),O(),I()}),[]),l.a.createElement("div",null,l.a.createElement("small",null,a),f?l.a.createElement(o.a,null):l.a.createElement(r.a,{clients:i,projects:u,payments:d,dates:p,userInfos:E,openClient:v,clouseClient:y,removeClient:C,addProject:w,openProject:j,openCurrentProject:F,clouseCurrentProject:x,clouseProject:g,removeProject:P,fetchPayments:O,addPayment:T,openPayment:D,clousePayment:k,openNewPayment:Y,clouseNewPayment:S,clientType:"\u0424\u0456\u0437\u0438\u0447\u043d\u0438\u0439",windowWidth:t}))}));t.default=s},81:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n=function(e){var t=0,a=[];return e||(e=[]),e.map((function(e){var n=0,l=0,r=0,c=0;if(!!a.filter((function(t){return t.name===e.liquidName})).length){var o=a.filter((function(t){return t.name===e.liquidName})).shift(),m=a.filter((function(t){return t.name!==e.liquidName}));n=parseInt(100*Number(o.balanceStart),10)/100,n=Number(e.routNumber)<Number(t)?parseInt(100*Number(e.balanceStart))/100:parseInt(100*Number(o.balanceStart),10)/100,l=parseInt(100*(Number(o.received)+Number(e.received)),10)/100,r=parseInt(100*(Number(o.expended)+Number(e.expended)),10)/100,c=Number(e.routNumber)<Number(t)?parseInt(100*Number(o.balanceFinish),10)/100:parseInt(100*Number(e.balanceFinish),10)/100;var s={name:e.liquidName,balanceStart:n,received:l,expended:r,balanceFinish:c};a=m.concat([s])}else{n=parseInt(100*(n+Number(e.balanceStart)),10)/100,l=parseInt(100*(l+Number(e.received)),10)/100,r=parseInt(100*(r+Number(e.expended)),10)/100,c=parseInt(100*(c+Number(e.balanceFinish)),10)/100;var i={name:e.liquidName,balanceStart:n,received:l,expended:r,balanceFinish:c};a=a.concat([i])}return t=Number(e.routNumber),e})),a.sort((function(e,t){return e.name-t.name})),a}},82:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(7),l=a(2),r=a(27),c=a(0),o=a.n(c),m=a(26),s=a(79),i=a(5),u=a(78),d=function(e){var t=e.client,a=e.clients,d=e.userInfo,p=Object(c.useContext)(m.a),E=Object(c.useState)("modal"),f=Object(r.a)(E,2),N=f[0],b=f[1],h=Object(c.useState)(""),v=Object(r.a)(h,2),y=v[0],C=v[1],w={};w=t?Object(l.a)(Object(l.a)({},t),{},{openClient:!1,openList:!1}):{clientType:"\u042e\u0440\u0456\u0434\u0438\u0447\u043d\u0438\u0439",companyName:"",secName:"\u0406\u0432\u0430\u043d\u043e\u0432",firstName:"\u0406\u0432\u0430\u043d",thirdName:"\u0406\u0432\u0430\u043d\u043e\u0432\u0438\u0447",contractNumber:"",adress:"\u041f\u043e\u043b\u0442\u0430\u0432\u0430",phonNumber:"0987896756",addPhonNumber:"0532678909",dateOfNegotiations:u(new Date).format("YYYY-MM-DD"),negotiationsResult:"\u041d\u0435 \u0443\u0437\u0433\u043e\u0434\u0436\u0435\u043d\u043e",incomingSourse:"",dateOfSignContract:u(new Date).format("YYYY-MM-DD"),contractPeriod:12,registrationDate:u(new Date).format("YYYY-MM-DDTHH:mm"),ipNumber:22345678865555,passportNumber:"\u0410\u0411 345678",additionalInfo:"",openClient:!1,openList:!1};var j=Object(c.useState)(Object(l.a)({},w)),g=Object(r.a)(j,2),P=g[0],F=g[1],x=function(e){F(Object(l.a)(Object(l.a)({},P),{},Object(n.a)({},e.target.name,e.currentTarget.value)))},I=null;return I=t?"modifyClientBasis":"createClientBasis",o.a.createElement("div",{className:I},o.a.createElement("div",{className:"clientMainForm"},o.a.createElement("div",{className:"d-flex flex-wrap justify-content-between"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"clientType"},o.a.createElement("small",null,"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441 \u043a\u043b\u0456\u0435\u043d\u0442\u0430:")),o.a.createElement("div",null,o.a.createElement("select",{type:"text",name:"clientType",value:P.clientType,onChange:x,className:"custom-select custom-select-sm important"},o.a.createElement("option",{className:"main",value:"\u042e\u0440\u0456\u0434\u0438\u0447\u043d\u0438\u0439"},"\u042e\u0440\u0456\u0434\u0438\u0447\u043d\u0438\u0439"),o.a.createElement("option",{value:"\u042e\u0440\u0456\u0434\u0438\u0447\u043d\u0438\u0439"},"\u042e\u0440\u0456\u0434\u0438\u0447\u043d\u0438\u0439"),o.a.createElement("option",{value:"\u0424\u0456\u0437\u0438\u0447\u043d\u0438\u0439"},"\u0424\u0456\u0437\u0438\u0447\u043d\u0438\u0439")))),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"compamyName"},o.a.createElement("small",null,"\u041d\u0430\u0439\u043c\u0435\u043d\u0443\u0432\u0430\u043d\u043d\u044f  \u043a\u043e\u043c\u043f\u0430\u043d\u0456\u0457")),o.a.createElement("input",{type:"text",className:"form-control important",placeholder:"\u041d\u0430\u0439\u043c\u0435\u043d\u0443\u0432\u0430\u043d\u043d\u044f \u043a\u043e\u043c\u043f\u0430\u043d\u0456\u0457",value:P.companyName||"",name:"companyName",onChange:x})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"secName"},o.a.createElement("small",null,"\u041f\u0440\u0438\u0437\u0432\u0456\u0449\u0435")),o.a.createElement("input",{type:"text",className:"form-control important",placeholder:"\u041f\u0440\u0438\u0437\u0432\u0456\u0449\u0435",value:P.secName,name:"secName",onChange:x,required:!0})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"firstName"},o.a.createElement("small",null,"\u0406\u043c'\u044f")),o.a.createElement("input",{type:"text",className:"form-control",placeholder:"\u0406\u043c'\u044f",value:P.firstName,name:"firstName",onChange:x})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"thirdName"},o.a.createElement("small",null,"\u041f\u043e \u0431\u0430\u0442\u044c\u043a\u043e\u0432\u0456")),o.a.createElement("input",{type:"text",className:"form-control",placeholder:"\u041f\u043e \u0431\u0430\u0442\u044c\u043a\u043e\u0432\u0456",value:P.thirdName,name:"thirdName",onChange:x})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"contractNumber"},o.a.createElement("small",null,"\u041d\u043e\u043c\u0435\u0440 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0443")),o.a.createElement("input",{type:"text",className:"form-control important",placeholder:"\u041d\u043e\u043c\u0435\u0440 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0443",value:P.contractNumber,name:"contractNumber",onChange:x})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"adress"},o.a.createElement("small",null,"\u0410\u0434\u0440\u0435\u0441\u0430")),o.a.createElement("input",{type:"text",className:"form-control",placeholder:"\u0410\u0434\u0440\u0435\u0441\u0430",value:P.adress,name:"adress",onChange:x})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"phonNumber"},o.a.createElement("small",null,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d")),o.a.createElement("input",{type:"text",className:"form-control",placeholder:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",value:P.phonNumber,name:"phonNumber",onChange:x})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"addPhonNumber"},o.a.createElement("small",null,"\u0414\u043e\u0434\u0430\u0442\u043a\u043e\u0432\u0442\u0438\u0439 \u0442\u0435\u043b\u0435\u0444\u043e\u043d")),o.a.createElement("input",{type:"text",className:"form-control",placeholder:"\u0414\u043e\u0434\u0430\u0442\u043a\u043e\u0432\u0442\u0438\u0439 \u0442\u0435\u043b\u0435\u0444\u043e\u043d",value:P.addPhonNumber,name:"addPhonNumber",onChange:x})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"dateOfNegotiations"},o.a.createElement("small",null,"\u0414\u0430\u0442\u0430 \u043f\u0435\u0440\u0435\u0433\u043e\u0432\u043e\u0440\u0456\u0432")),o.a.createElement("input",{type:"date",className:"form-control",placeholder:"\u0414\u0430\u0442\u0430 \u043f\u0435\u0440\u0435\u0433\u043e\u0432\u043e\u0440\u0456\u0432",value:u(P.dateOfNegotiations).format("YYYY-MM-DD"),name:"dateOfNegotiations",onChange:x})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"negotiationsResult"},o.a.createElement("small",null,"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u043f\u0435\u0440\u0435\u0433\u043e\u0432\u043e\u0440\u0456\u0432")),o.a.createElement("div",null,o.a.createElement("select",{type:"text",name:"negotiationsResult",value:P.negotiationsResult,onChange:x,className:"custom-select custom-select-sm"},o.a.createElement("option",{className:"main",value:"\u041d\u0435 \u0443\u0437\u0433\u043e\u0434\u0436\u0435\u043d\u043e"},"\u041d\u0435 \u0443\u0437\u0433\u043e\u0434\u0436\u0435\u043d\u043e"),o.a.createElement("option",{value:"\u0423\u0437\u0433\u043e\u0434\u0436\u0435\u043d\u043e"},"\u0423\u0437\u0433\u043e\u0434\u0436\u0435\u043d\u043e"),o.a.createElement("option",{value:"\u0412\u0456\u0434\u043a\u043b\u0430\u0434\u0435\u043d\u043e"},"\u0412\u0456\u0434\u043a\u043b\u0430\u0434\u0435\u043d\u043e")))),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"incomingSourse"},o.a.createElement("small",null,"\u0414\u0436\u0435\u0440\u0435\u043b\u043e \u043d\u0430\u0434\u0445\u043e\u0434\u0436\u0435\u043d\u043d\u044f")),o.a.createElement("div",null,o.a.createElement("select",{type:"text",name:"incomingSourse",value:P.incomingSourse,onChange:x,className:"custom-select custom-select-sm"},o.a.createElement("option",{className:"main",value:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"},"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"),o.a.createElement("option",{value:"\u0421\u0430\u0439\u0442"},"\u0421\u0430\u0439\u0442"),o.a.createElement("option",{value:"\u042e\u0442\u044e\u0431"},"\u042e\u0442\u044e\u0431"),o.a.createElement("option",{value:"\u0406\u043d\u0448\u0435"},"\u0406\u043d\u0448\u0435")))),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"dateOfSignContract"},o.a.createElement("small",null,"\u0414\u0430\u0442\u0430 \u0443\u043a\u043b\u0430\u0434\u0430\u043d\u043d\u044f \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0443")),o.a.createElement("input",{type:"date",className:"form-control",placeholder:"\u0414\u0430\u0442\u0430 \u0443\u043a\u043b\u0430\u0434\u0430\u043d\u043d\u044f \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0443",value:u(P.dateOfSignContract).format("YYYY-MM-DD"),name:"dateOfSignContract",onChange:x})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"contractPeriod"},o.a.createElement("small",null,"\u0421\u0442\u0440\u043e\u043a \u0434\u0456\u0457 \u0434\u043e\u0433\u0448\u043e\u0432\u043e\u0440\u0443, \u043c\u0456\u0441")),o.a.createElement("input",{type:"number",className:"form-control",placeholder:"\u0421\u0442\u0440\u043e\u043a \u0434\u0456\u0457 \u0434\u043e\u0433\u0448\u043e\u0432\u043e\u0440\u0443, \u043c\u0456\u0441",value:P.contractPeriod,name:"contractPeriod",onChange:x})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"ipNumber"},o.a.createElement("small",null,"\u0406\u041f\u041d")),o.a.createElement("input",{type:"number",className:"form-control",placeholder:"\u0406\u041f\u041d",value:P.ipNumber,name:"ipNumber",onChange:x})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"passportNumber"},o.a.createElement("small",null,"\u0421\u0435\u0440\u0456\u044f \u0442\u0430 \u043d\u043e\u043c\u0435\u0440 \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u0443")),o.a.createElement("input",{type:"text",className:"form-control",placeholder:"\u0421\u0435\u0440\u0456\u044f \u0442\u0430 \u043d\u043e\u043c\u0435\u0440 \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u0443",value:P.passportNumber,name:"passportNumber",onChange:x}))),o.a.createElement("div",{className:"form-group additionalInfoConteiner"},o.a.createElement("label",{htmlFor:"additionalInfo"},o.a.createElement("small",null,"\u0414\u043e\u0434\u0430\u0442\u043a\u043e\u0432\u0456 \u0434\u0430\u043d\u0456")),o.a.createElement("textarea",{type:"text",className:"form-control additionalInfo",placeholder:"\u0414\u043e\u0434\u0430\u0442\u043a\u043e\u0432\u043e",value:P.additionalInfo,name:"additionalInfo",onChange:x}))),o.a.createElement("div",{className:"d-flex justify-content-between"},o.a.createElement("button",{className:"btn btn-success createSaveClientBtn",value:"Enter",name:"submit",onClick:function(e){var n=i.a.auth.currentUser.uid,l=!!(a=a.filter((function(e){return e.owner===n}))).filter((function(e){return e.contractNumber===P.contractNumber})).length;if(!P.secName&&C("\u041f\u0440\u0438\u0437\u0432\u0456\u0449\u0435  \u043e\u0431\u043e\u0432\u044f\u0437\u043a\u043e\u0432\u0435!"),!P.secName&&b("open"),e.preventDefault(),P.secName){if(t){if(!(d.company===d.jointCompany&d.owner===t.owner))return C("\u0423 \u0412\u0430\u0441 \u0432\u0456\u0434\u0441\u0443\u0442\u043d\u0456 \u043f\u0440\u0430\u0432\u0430 \u0432\u043d\u043e\u0441\u0438\u0442\u0438 \u0437\u043c\u0456\u043d\u0438 \u0432 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0438!"),void b("open");p.changeClient(P).then((function(){})).catch((function(){C("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430!"),b("open")})),C("\u0406\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044e \u0441\u043a\u043e\u0440\u0435\u0433\u043e\u0432\u0430\u043d\u043e!"),b("open")}else{if(l)return C("\u0414\u043e\u0433\u043e\u0432\u0456\u0440 \u0437 \u0442\u0430\u043a\u0438\u043c \u043d\u043e\u043c\u0435\u0440\u043e\u043c \u0432\u0436\u0435 \u0456\u0441\u043d\u0443\u0454! \u041e\u0431\u0435\u0440\u0456\u0442\u044c \u0456\u043d\u0448\u0438\u0439 \u0430\u0431\u043e \u0432\u043d\u0435\u0441\u0456\u0442\u044c \u0437\u043c\u0456\u043d\u0438!"),void b("open");if(d.company!==d.jointCompany)return C("\u0423 \u0412\u0430\u0441 \u0432\u0456\u0434\u0441\u0443\u0442\u043d\u0456 \u043f\u0440\u0430\u0432\u0430 \u0432\u043d\u043e\u0441\u0438\u0442\u0438 \u0437\u043c\u0456\u043d\u0438 \u0432 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0438!"),void b("open");p.addClient(P).then((function(){})).catch((function(){C("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430!"),b("open")})),C("\u041d\u043e\u0432\u043e\u0433\u043e \u043a\u043b\u0456\u0435\u043d\u0442\u0430 \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043e!"),b("open"),"\u042e\u0440\u0456\u0434\u0438\u0447\u043d\u0438\u0439"===P.clientType?(C("\u041d\u043e\u0432\u043e\u0433\u043e \u043a\u043b\u0456\u0435\u043d\u0442\u0430 \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043e! \u0414\u043b\u044f \u043f\u0435\u0440\u0435\u0433\u043b\u044f\u0434\u0443 \u043f\u0435\u0440\u0435\u0439\u0434\u0456\u0442\u044c \u0434\u043e \u044e\u0440\u0438\u0434\u0438\u0447\u043d\u0438\u0445 \u043e\u0441\u0456\u0431."),b("open")):"\u0424\u0456\u0437\u0438\u0447\u043d\u0438\u0439"===P.clientType?(C("\u041d\u043e\u0432\u043e\u0433\u043e \u043a\u043b\u0456\u0435\u043d\u0442\u0430 \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043e! \u0414\u043b\u044f \u043f\u0435\u0440\u0435\u0433\u043b\u044f\u0434\u0443 \u043f\u0435\u0440\u0435\u0439\u0434\u0456\u0442\u044c \u0434\u043e \u0444\u0456\u0437\u0438\u0447\u043d\u0438\u0445 \u043e\u0441\u0456\u0431."),b("open")):b("modal")}setTimeout((function(){b("modal")}),1500)}}},!t&&"\u0421\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u043d\u043e\u0432\u043e\u0433\u043e \u043a\u043b\u0456\u0454\u043d\u0442\u0430",t&&"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438 \u0434\u0430\u043d\u0456")),o.a.createElement(s.a,{modalClass:N,modalText:y,modalFunction:b}))}},85:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(0),l=a.n(n),r=a(92),c=a(93),o=(a(81),a(78),function(e){var t=e.csvData,a=e.fileName,n=e.textCSV;return l.a.createElement("button",{onClick:function(e){return function(e,t){var a={Sheets:{data:c.utils.json_to_sheet(e)},SheetNames:["data"]},n=c.write(a,{bookType:"xlsx",type:"array"}),l=new Blob([n],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});r.saveAs(l,t+".xlsx")}(t,a)},className:"btn btn-success createExelBtn"},l.a.createElement("small",null,n))})},86:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(0),l=a.n(n),r=function(e){var t=e.modalClass,a=e.modalText,n=e.modalFunction;return l.a.createElement("div",{id:t},l.a.createElement("div",{className:"showWindow"},l.a.createElement("div",{className:t},l.a.createElement("div",{className:"top-show-content"},l.a.createElement("button",{id:"deleteShowModal",type:"button",className:"btn btn-outline-secondary btn-sm",onClick:function(){n("modal")}},"\xd7"),l.a.createElement("p",null,a)))))}},87:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(0),l=a.n(n),r=a(122),c=a(120),o=a(90),m=a(88),s=a(91),i=a(5),u=a(78),d=Object(n.memo)((function(e){var t=e.payments,a=e.client,n=e.dates,d=e.userInfo,p=e.newProjects,E=e.openProject,f=e.clouseProject,N=e.openCurrentProject,b=e.clouseCurrentProject,h=e.windowWidth,v=e.setAlertClass,y=e.setAlertText,C=e.setFunct,w=e.setModalText,j=e.setModalClass,g=e.setId,P=e.modalClass,F=e.openClientTableClass,x=(e.carRoutes,e.openNewList,e.clouseNewList,e.addPayment),I=(e.closeNewRoute,e.openList,e.closeList,e.openPayment),O=e.clousePayment,T=e.openNewPayment,D=e.clouseNewPayment,k=(e.closeRoute,e.changeListRouteTime,i.a.auth.currentUser.uid),Y=n.find((function(e){return e.owner===k}));Y||(Y={dateStart:"1970-01-01T00:00",dateFinish:"2070-01-01T00:00"});var S=t.filter((function(e){return e.projectOwner===a.id})),z=Object(m.b)(h),M=function(e,t){for(var a=0,n=0;a<e;)n+=t[a].size,a++;return n};return l.a.createElement("form",null,l.a.createElement("details",null,l.a.createElement("summary",{id:"summary"},l.a.createElement("div",{id:"summaryConteiner",className:"d-flex justify-content-between"},l.a.createElement("small",{id:"small"},"\u041f\u0440\u043e\u0435\u043a\u0442\u0438"),d.company===d.jointCompany&&l.a.createElement("small",{id:"small",className:"smallEnd"}))),l.a.createElement("div",{className:"d-flex justify-content-between"},l.a.createElement("table",{className:"headTable"},l.a.createElement("tbody",null,l.a.createElement("tr",{align:"center"},h>75+M(1,z)&&l.a.createElement("td",{width:z[0].size,onClick:function(){C("showFunction"),w(z[0].fullName),j()}},l.a.createElement("small",null,z[0].name)),h>75+M(2,z)&&l.a.createElement("td",{width:z[1].size,onClick:function(){C("showFunction"),w(z[1].fullName),j()}},l.a.createElement("small",null,z[1].name)),h>75+M(3,z)&&l.a.createElement("td",{width:z[2].size,onClick:function(){C("showFunction"),w(z[2].fullName),j()}},l.a.createElement("small",null,z[2].name)),h>75+M(4,z)&&l.a.createElement("td",{width:z[3].size,onClick:function(){C("showFunction"),w(z[3].fullName),j()}},l.a.createElement("small",null,z[3].name)),h>75+M(5,z)&&l.a.createElement("td",{width:z[4].size,onClick:function(){C("showFunction"),w(z[4].fullName),j()}},l.a.createElement("small",null,z[4].name)),h>75+M(6,z)&&l.a.createElement("td",{width:z[5].size,onClick:function(){C("showFunction"),w(z[5].fullName),j()}},l.a.createElement("small",null,z[5].name)),h>75+M(7,z)&&l.a.createElement("td",{width:z[6].size,onClick:function(){C("showFunction"),w(z[6].fullName),j()}},l.a.createElement("small",null,z[6].name)),h>75+M(8,z)&&l.a.createElement("td",{width:z[7].size,onClick:function(){C("showFunction"),w(z[7].fullName),j()}},l.a.createElement("small",null,z[7].name)),h>75+M(9,z)&&l.a.createElement("td",{width:z[8].size,onClick:function(){C("showFunction"),w(z[8].fullName),j()}},l.a.createElement("small",null,z[8].name)),h>75+M(10,z)&&l.a.createElement("td",{width:z[9].size,onClick:function(){C("showFunction"),w(z[9].fullName),j()}},l.a.createElement("small",null,z[9].name)),h>75+M(11,z)&&l.a.createElement("td",{width:z[10].size,onClick:function(){C("showFunction"),w(z[10].fullName),j()}},l.a.createElement("small",null,z[10].name)),h>75+M(12,z)&&l.a.createElement("td",{width:z[11].size,onClick:function(){C("showFunction"),w(z[11].fullName),j()}},l.a.createElement("small",null,z[11].name)),h>75+M(13,z)&&l.a.createElement("td",{width:z[12].size,onClick:function(){C("showFunction"),w(z[12].fullName),j()}},l.a.createElement("small",null,z[12].name)),h>75+M(14,z)&&l.a.createElement("td",{width:z[13].size,onClick:function(){C("showFunction"),w(z[13].fullName),j()}},l.a.createElement("small",null,z[13].name)))))),l.a.createElement(r.a,{component:"ul",className:"project-group"},p.map((function(e){var n=S.filter((function(t){return t.paymentOwner===e.id}));n.sort((function(e,t){return e.payData-t.payData}));var r=Object(m.a)(e),i=u(new Date(e.projectReadinessDate)).format("YYYY-MM-DD")>=u(new Date).format("YYYY-MM-DD")?"goodTime":"badTime",E="\u0422\u0430\u043a"===e.signatur\u0443OfAct?"good":"bad",f="\u0422\u0430\u043a"===e.poketExistence?"good":"bad",k="\u0422\u0430\u043a"===e.contractExistence?"good":"bad",Y=null;e.openProject&&(Y="deleteButtonItemAreClouse"),n.length&&(Y="deleteButtonItemAreClouse"),d.company!==d.jointCompany&&(Y="deleteButtonItemAreClouse");var B="deleteButtonItemAreClouse";return n.length&&(B=""),d.company!==d.jointCompany&&(B=""),e.openProject&&(B="deleteButtonItemAreClouse"),l.a.createElement(c.a,{key:e.id,classNames:"note",timeout:800},l.a.createElement("li",{key:e.id,className:"project-group-item projectInnerLi"},!e.openProject&&l.a.createElement("div",{key:e.id,className:"projectBasis"},l.a.createElement("div",{className:"d-flex justify-content-between"},l.a.createElement("table",{className:"projectTable",onClick:function(){return N(e)}},l.a.createElement("tbody",null,l.a.createElement("tr",{align:"center"},h>75+M(1,z)&&l.a.createElement("td",{width:z[0].size,className:"head"},l.a.createElement("small",{className:"projectName"},r[0])),h>75+M(2,z)&&l.a.createElement("td",{width:z[1].size,className:"head ".concat(i)},l.a.createElement("small",{className:"smallProjectDateBold"},"".concat(u(r[1]).format("DD.MM.YY")))),h>75+M(3,z)&&l.a.createElement("td",{width:z[2].size},l.a.createElement("small",{className:k},r[2])),h>75+M(4,z)&&l.a.createElement("td",{width:z[3].size},l.a.createElement("small",{className:E},r[3])),h>75+M(5,z)&&l.a.createElement("td",{width:z[4].size},l.a.createElement("small",{className:f},r[4])),h>75+M(6,z)&&l.a.createElement("td",{width:z[5].size},l.a.createElement("small",null,r[5])),h>75+M(7,z)&&l.a.createElement("td",{width:z[6].size},l.a.createElement("small",null,r[6])),h>75+M(8,z)&&l.a.createElement("td",{width:z[7].size},l.a.createElement("small",null,r[7])),h>75+M(9,z)&&l.a.createElement("td",{width:z[8].size,className:"head"},l.a.createElement("small",null,"".concat(u(r[8]).format("DD.MM.YY")))),h>75+M(10,z)&&l.a.createElement("td",{width:z[9].size},l.a.createElement("small",null,r[9])),h>75+M(11,z)&&l.a.createElement("td",{width:z[10].size},l.a.createElement("small",null,r[10])),h>75+M(12,z)&&l.a.createElement("td",{width:z[11].size},l.a.createElement("small",null,r[11])),h>75+M(13,z)&&l.a.createElement("td",{width:z[12].size},l.a.createElement("small",null,r[12])),h>75+M(14,z)&&l.a.createElement("td",{width:z[13].size},l.a.createElement("small",null,r[13]))))),l.a.createElement("button",{id:"deleteProjectBtn",type:"button",className:"btn btn-outline-danger btn-sm deleteProjectBtn ".concat(Y),onClick:function(){g(e.id),C("removeList"),w("\u0412\u0438\u0434\u0430\u043b\u0435\u043d\u043d\u044f \u043f\u0440\u043e\u0435\u043a\u0442\u0443! \u0414\u043b\u044f \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043d\u044f \u043a\u043b\u0456\u0454\u043d\u0442\u0443 \u043d\u0435\u043e\u0431\u0445\u0456\u0434\u043d\u043e \u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0432\u0441\u0456 \u043f\u0440\u043e\u0435\u043a\u0442\u0438!!!"),j()}},"\xd7"),l.a.createElement("button",{type:"button",className:"bbtn btn-outline-secondary btn-sm deleteProjectBtn ".concat(B),disabled:!0},"\xd7"))),l.a.createElement("div",null,l.a.createElement("div",{className:"clouseProjectBasis",onClick:function(){return b(e)}},e.openProject&&l.a.createElement("table",{className:"clouseProjectForm"},l.a.createElement("tbody",null,l.a.createElement("tr",{className:"clouseProjectTableButton"},l.a.createElement("td",null,"\u0417\u0430\u043a\u0440\u0438\u0442\u0438 \u0444\u043e\u0440\u043c\u0443 \u043f\u0440\u043e\u0435\u043a\u0442\u0430"))))),e.openProject&&l.a.createElement(o.a,{className:F,client:a,project:e,setAlertText:y,setAlertClass:v,newProjects:p,userInfo:d})),l.a.createElement(s.a,{client:a,payments:t,project:e,setId:g,currentProjectPayments:n,openPayment:I,clousePayment:O,openNewPayment:T,clouseNewPayment:D,addPayment:x,setFunct:C,setModalClass:j,setModalText:w,windowWidth:h,setAlertText:y,setAlertClass:v,modalClass:P,userInfo:d})))}))),l.a.createElement("div",{className:"d-flex justify-content-between projectButtonsGrup"},l.a.createElement("button",{type:"button",className:"btn btn-outline-primary btn-sm addProjectBtn",onClick:function(){return E(a)},style:{marginRight:4}},"+ \u041f\u0440\u043e\u0435\u043a\u0442"),l.a.createElement("button",{type:"button",className:"btn btn-outline-info btn-sm closeProjectBtn",onClick:function(){return f(a)},style:{marginRight:4}},"\u0417\u0430\u043a\u0440\u0438\u0442\u0438")),a.openProject&&l.a.createElement(o.a,{client:a,setAlertText:y,setAlertClass:v,newProjects:p,userInfo:d})))}))},89:function(e,t){},95:function(e,t){},96:function(e,t){},97:function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));var n=a(27),l=a(0),r=a.n(l),c=a(122),o=a(120),m=(a(85),a(82)),s=a(83),i=a(79),u=a(86),d=a(5),p=a(87),E=a(78),f=Object(l.memo)((function(e){var t=e.windowWidth,a=e.clientType,f=e.dates,N=e.userInfos,b=e.clients,h=e.projects,v=e.removeClient,y=e.openClient,C=e.clouseClient,w=e.addProject,j=e.openProject,g=e.clouseProject,P=e.removeProject,F=e.openCurrentProject,x=e.clouseCurrentProject,I=e.payments,O=e.addPayment,T=e.openPayment,D=e.clousePayment,k=e.openNewPayment,Y=e.clouseNewPayment,S=Object(l.useState)("modal"),z=Object(n.a)(S,2),M=z[0],B=z[1],A=Object(l.useState)(""),R=Object(n.a)(A,2),L=R[0],U=R[1],W=Object(l.useState)("modal"),q=Object(n.a)(W,2),H=q[0],J=q[1],_=Object(l.useState)(""),G=Object(n.a)(_,2),V=G[0],K=G[1],Q=Object(l.useState)(),X=Object(n.a)(Q,2),Z=X[0],$=X[1],ee=Object(l.useState)(),te=Object(n.a)(ee,2),ae=te[0],ne=te[1],le=function(){(H="modal")?J("open"):J("modal")},re=d.a.auth.currentUser.uid,ce=N.find((function(e){return e.owner===re}));if(!ce)return null;var oe=N.find((function(e){return e.company===ce.jointCompany}));if(!oe)return null;(b=(b=b.filter((function(e){return e.owner===oe.owner}))).filter((function(e){return e.clientType===a}))).sort((function(e,t){return new Date(t.registrationDate)-new Date(e.registrationDate)}));var me=b.length;return 0===me?null:r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(c.a,{component:"ul",className:"list-group"},me&&b.map((function(e){var a=h.filter((function(t){return t.projectOwner===e.id}));a.sort((function(e,t){return e.projectNumber-t.projectNumber}));var n=null;n="\u042e\u0440\u0456\u0434\u0438\u0447\u043d\u0438\u0439"===e.clientType?"legalClients":"unlegalClients";var l=null;e.openClient&&(l="tableItemsAreClouse");var c=null;e.openClient&&(c="deleteButtonItemAreClouse"),a.length&&(c="deleteButtonItemAreClouse"),ce.company!==ce.jointCompany&&(c="deleteButtonItemAreClouse");var s="deleteButtonItemAreClouse";a.length&&(s=""),ce.company!==ce.jointCompany&&(s=""),e.openClient&&(s="deleteButtonItemAreClouse");var i=[180,105,80,120,90,80,40,80,300,70,90,90],u=function(e,t){for(var a=0,n=0;a<e;)n+=t[a],a++;return n};return r.a.createElement(o.a,{key:e.id,classNames:"note",timeout:800},r.a.createElement("li",{key:e.id,className:"list-group-item clientInnerLi"},r.a.createElement("form",{className:"d-flex justify-content-between clientInnerForm"},r.a.createElement("table",{className:"clientTable ".concat(l),onClick:function(){y(e)}},r.a.createElement("tbody",null,r.a.createElement("tr",{align:"center"},t>70+u(1,i)&&r.a.createElement("td",{width:i[0]},r.a.createElement("small",{className:n},e.companyName)),t>70+u(2,i)&&r.a.createElement("td",{width:i[1]},r.a.createElement("small",null,e.secName)),t>70+u(3,i)&&r.a.createElement("td",{width:i[2]},r.a.createElement("small",null,e.firstName)),t>70+u(4,i)&&r.a.createElement("td",{width:i[3]},r.a.createElement("small",null,e.thirdName)),t>70+u(5,i)&&r.a.createElement("td",{width:i[4]},r.a.createElement("small",null,e.phonNumber)),t>70+u(6,i)&&r.a.createElement("td",{width:i[5]},r.a.createElement("small",null,e.contractNumber)),t>70+u(7,i)&&r.a.createElement("td",{width:i[6]},r.a.createElement("small",null,e.contractPeriod)),t>70+u(8,i)&&r.a.createElement("td",{width:i[7]},r.a.createElement("small",null,"".concat(E(e.registrationDate).format("DD.MM HH:mm")))),t>70+u(9,i)&&r.a.createElement("td",{width:i[8]},r.a.createElement("small",null,e.adress)),t>70+u(10,i)&&r.a.createElement("td",{width:i[9]},r.a.createElement("small",null,e.incomingSourse)),t>70+u(11,i)&&r.a.createElement("td",{width:i[10]},r.a.createElement("small",null,e.dateOfSignContract)),t>70+u(12,i)&&r.a.createElement("td",{width:i[11]},r.a.createElement("small",{className:"negotiationsResult"},e.negotiationsResult))))),r.a.createElement("div",null,r.a.createElement("button",{type:"button",className:"btn btn-outline-danger btn-sm deleteCarBtn ".concat(c),onClick:function(){ne(e.id),K("removeCar"),$("\u0412\u0438 \u043d\u0430\u043c\u0430\u0433\u0430\u0454\u0442\u0435\u0441\u044f \u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0434\u0430\u043d\u0456! \u041f\u0456\u0441\u043b\u044f \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043d\u044f \u0432\u0456\u0434\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u0434\u0430\u043d\u0438\u0445 \u0431\u0443\u0434\u0435 \u043d\u0435 \u043c\u043e\u0436\u043b\u0438\u0432\u0438\u043c!"),le()}},"\xd7"),r.a.createElement("button",{type:"button",className:"btn btn-outline-secondary btn-sm deleteCarBtn ".concat(s),disabled:!0},"\xd7"),e.openClient&&r.a.createElement("table",{className:"clientTable",onClick:function(){C(e)}},r.a.createElement("tbody",null,r.a.createElement("tr",{align:"center"},r.a.createElement("td",{width:"200"},r.a.createElement("small",{className:n},"For close")),t>247&&r.a.createElement("td",{width:"100",className:n},r.a.createElement("small",null,"Info")),t>247&&r.a.createElement("td",{width:"100",className:n},r.a.createElement("small",null,"Info")),t>247&&r.a.createElement("td",{width:"100",className:n},r.a.createElement("small",null,"Info")),t>247&&r.a.createElement("td",{width:"100",className:n},r.a.createElement("small",null,"Info")),t>247&&r.a.createElement("td",{width:"100",className:n},r.a.createElement("small",null,"Info"))))),e.openClient&&r.a.createElement(m.a,{client:e,clients:b,userInfo:ce}))),r.a.createElement("form",{className:"addingObjTable"}),!e.openClient&&r.a.createElement(p.a,{client:e,dates:f,payments:I,newProjects:a,addPayment:O,addProject:w,openProject:j,clouseProject:g,removeProject:P,openCurrentProject:F,clouseCurrentProject:x,openPayment:T,clousePayment:D,openNewPayment:k,clouseNewPayment:Y,windowWidth:t,setAlertClass:B,setAlertText:U,setFunct:K,setModalText:$,setModalClass:le,setId:ne,modalClass:H,userInfo:ce})))})),"removeCar"===V&&r.a.createElement(s.a,{modalClass:H,modalText:Z,modalFunction:J,Id:ae,innerFunction:v}),"removeList"===V&&r.a.createElement(s.a,{modalClass:H,modalText:Z,modalFunction:J,Id:ae,innerFunction:P}),"showFunction"===V&&r.a.createElement(u.a,{modalClass:H,modalText:Z,modalFunction:J}),r.a.createElement(i.a,{modalClass:M,modalText:L,modalFunction:B}))),r.a.createElement("div",{className:"d-flex justify-content-between"}))}))}}]);
//# sourceMappingURL=8.1c44dff8.chunk.js.map