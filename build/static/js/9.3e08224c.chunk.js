(this["webpackJsonpnew-todo"]=this["webpackJsonpnew-todo"]||[]).push([[9],{123:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(26),c=a(7),m=a(2),i=a(27),o=a(83),s=a(79),u=a(85),d=a(78),b=Object(n.memo)((function(e){var t=e.ownerDates,a=e.ownerInitialDates,b=e.liquidWidth,f=e.ownerAllPayments,p=Object(n.useContext)(r.a),E=Object(n.useState)("modal"),N=Object(i.a)(E,2),h=N[0],v=N[1],w=Object(n.useState)(),y=Object(i.a)(w,2),j=y[0],O=y[1],x=Object(n.useState)(),g=Object(i.a)(x,2),S=g[0],D=g[1],F=Object(n.useState)("modal"),C=Object(i.a)(F,2),I=C[0],M=C[1],k=Object(n.useState)(""),T=Object(i.a)(k,2),B=T[0],P=T[1],q=Object(n.useState)(Object(m.a)({},a)),W=Object(i.a)(q,2),Y=W[0],A=W[1];0===Object.keys(Y).length?Y=JSON.parse(localStorage.getItem("date")):localStorage.setItem("date",JSON.stringify(Y));var L=function(e){A(Object(m.a)(Object(m.a)({},Y),{},Object(c.a)({},e.target.name,e.target.value))),console.log(e.target.name,e.target.value)},z=[];return l.a.createElement("div",null,l.a.createElement("div",{id:"2345",className:"createTimeBasis"},l.a.createElement("div",{className:"d-flex flex-wrap justify-content-around"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"dateStart"},l.a.createElement("small",null,"\u041f\u043e\u0447\u0430\u0442\u043a\u043e\u0432\u0430 \u0434\u0430\u0442\u0430")),l.a.createElement("input",{type:"date",className:"form-control",placeholder:"\u041f\u043e\u0447\u0430\u0442\u043a\u043e\u0432\u0430 \u0434\u0430\u0442\u0430",value:d(Y.dateStart).format("YYYY-MM-DD"),name:"dateStart",onChange:L})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"dateFinish"},l.a.createElement("small",null,"\u041a\u0456\u043d\u0446\u0435\u0432\u0430 \u0434\u0430\u0442\u0430")),l.a.createElement("input",{type:"date",className:"form-control",placeholder:"\u041a\u0456\u043d\u0446\u0435\u0432\u0430 \u0434\u0430\u0442\u0430",value:d(Y.dateFinish).format("YYYY-MM-DD"),name:"dateFinish",onChange:L})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"dateOfEnd"},l.a.createElement("small",null,"\u0427\u0430\u0441 \u0437\u0431\u0435\u0440\u0456\u0433\u0430\u043d\u043d\u044f,\u043c\u0456\u0441")),l.a.createElement("input",{type:"number",className:"form-control",placeholder:"\u041f\u0435\u0440\u0456\u043e\u0434 \u0437\u0431\u0435\u0440\u0456\u0433\u0430\u043d\u043d\u044f,\u043c\u0456\u0441",value:Y.dateOfEnd,name:"dateOfEnd",onChange:L})),l.a.createElement("div",{className:"createDateBtnConteiner"},l.a.createElement("button",{className:"btn btn-success createDateBtn",value:"\u0414\u0430\u0442\u0430",name:"submit",onClick:function(e){e.preventDefault(),t?(p.changeDates(Object(m.a)(Object(m.a)({},Y),{},{id:t.id})).then((function(){})).catch((function(){P("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430!"),M("open")})),P("\u0414\u0430\u0442\u0443 \u0437\u043c\u0456\u043d\u0435\u043d\u043e!"),M("open")):(p.addDates(Object(m.a)({},Y)).then((function(){})).catch((function(){console.log("Error"),P("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430!"),M("open")})),P("\u0414\u0430\u0442\u0443 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043e!"),M("open")),setTimeout((function(){M("modal")}),1e3)}},l.a.createElement("small",null,"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438"))),l.a.createElement("div",{className:"createDateBtnConteiner"},l.a.createElement("button",{className:"btn btn-danger createDateBtn",value:"\u0414\u0430\u0442\u0430",name:"submit",onClick:function(e){D(e),O("\u0414\u044f\u043a\u0443\u0454\u043c\u043e \u0437\u0430 \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043d\u044f \u0437\u0430\u0441\u0442\u0430\u0440\u0456\u043b\u0438\u0445 \u0434\u0430\u043d\u0438\u0445, \u0432\u0438 \u0437\u0432\u0456\u043b\u044c\u043d\u0438\u043b\u0438 \u0434\u043e\u0434\u0430\u0442\u043a\u043e\u0432\u0435 \u043c\u0456\u0441\u0446\u0435!"),(h="modal")?v("open"):v("modal")}},l.a.createElement("small",null,"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u0438"))))),l.a.createElement("div",{className:"d-flex flex-wrap justify-content-around payments-conteiner"},l.a.createElement("div",{className:"createPaymentsHeadBasis"},l.a.createElement("table",{className:"allPaymentTable"},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("small",{className:"paymentNumber"},"\u2116")),l.a.createElement("td",null,l.a.createElement("small",{className:"paymentData"},"\u0414\u0430\u0442\u0430")))))),f.map((function(e){var t;return t={"\u2116 \u043f\u0440\u043e\u043f\u043b\u0430\u0442\u0438":e.payNumber,"\u0414\u0430\u0442\u0430 \u043f\u0440\u043e\u043f\u043b\u0430\u0442\u0438":e.payDate},z=z.concat(t),l.a.createElement("div",{key:e.id,className:"createPaymentsHeadBasis",width:{liquidWidth:b}},l.a.createElement("div",null,l.a.createElement("table",{className:"allPaymentTable"},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("small",{className:"paymentNumber"},e.payNumber)),l.a.createElement("td",null,l.a.createElement("small",{className:"paymentData"},e.payDate)))))))}))),l.a.createElement(u.a,{csvData:z,fileName:"\u041f\u0440\u043e\u043f\u043b\u0430\u0442\u0438",textCSV:"EXEL"}),l.a.createElement(o.a,{modalClass:h,modalText:j,modalFunction:v,Id:S,innerFunction:function(e){e.preventDefault()}}),l.a.createElement(s.a,{modalClass:I,modalText:B,modalFunction:M}))})),f=a(5),p=a(16),E=Object(n.memo)((function(){var e=7.2096691*Math.pow(10,-14)*Math.pow(window.innerWidth,5)-3.8875191*Math.pow(10,-10)*Math.pow(window.innerWidth,4)+7.5708477*Math.pow(10,-7)*Math.pow(window.innerWidth,3)-6.0702864*Math.pow(10,-4)*Math.pow(window.innerWidth,2)+.1046586*window.innerWidth+106.6952733,t="".concat(e+4,"%"),a=f.a.auth.currentUser.email;a=a.split("@")[0];var c=Object(n.useContext)(r.a),m=c.loading,i=c.dates,o=c.fetchDates,s=c.projects,u=c.fetchProjects,d=c.payments,E=c.fetchPayments,N=c.fetchClients,h=f.a.auth.currentUser.uid,v=i.find((function(e){return e.owner===h})),w=d.filter((function(e){return e.owner===h})),y=s.filter((function(e){return e.owner===h})),j={};return v||(j={dateStart:"1950.01.01",dateOfEnd:36,dateFinish:"2080.01.01"}),Object(n.useEffect)((function(){o(),u(),E(),N()}),[]),l.a.createElement("div",null,l.a.createElement("small",null,a),m?l.a.createElement(p.a,null):l.a.createElement(b,{ownerDates:v,ownerInitialDates:j,liquidWidth:t,ownerAllPayments:w,ownerAllProjects:y}))}));t.default=E},79:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(0),l=a.n(n),r=a(84),c=function(e){var t=e.modalClass,a=e.modalText,n=e.modalFunction;return l.a.createElement("div",{id:t},l.a.createElement("div",{className:"window"},l.a.createElement("div",{className:t},l.a.createElement("div",{className:"top-content"},l.a.createElement("div",{className:"alert-left-text"},l.a.createElement("pre",null,l.a.createElement(r.c,{icon:r.a,size:"medium",ariaLabel:"Alert"}),"          \u0423\u0432\u0430\u0433\u0430 !!!")),l.a.createElement("button",{id:"deleteModal",type:"button",className:"btn btn-outline-secondary btn-sm",onClick:function(){n("modal")}},"\xd7"),l.a.createElement(r.c,{icon:r.b,size:"large",ariaLabel:"Flame",className:"alertFlame"}),l.a.createElement("hr",null),l.a.createElement("p",null,a)))))}},81:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n=function(e){var t=0,a=[];return e||(e=[]),e.map((function(e){var n=0,l=0,r=0,c=0;if(!!a.filter((function(t){return t.name===e.liquidName})).length){var m=a.filter((function(t){return t.name===e.liquidName})).shift(),i=a.filter((function(t){return t.name!==e.liquidName}));n=parseInt(100*Number(m.balanceStart),10)/100,n=Number(e.routNumber)<Number(t)?parseInt(100*Number(e.balanceStart))/100:parseInt(100*Number(m.balanceStart),10)/100,l=parseInt(100*(Number(m.received)+Number(e.received)),10)/100,r=parseInt(100*(Number(m.expended)+Number(e.expended)),10)/100,c=Number(e.routNumber)<Number(t)?parseInt(100*Number(m.balanceFinish),10)/100:parseInt(100*Number(e.balanceFinish),10)/100;var o={name:e.liquidName,balanceStart:n,received:l,expended:r,balanceFinish:c};a=i.concat([o])}else{n=parseInt(100*(n+Number(e.balanceStart)),10)/100,l=parseInt(100*(l+Number(e.received)),10)/100,r=parseInt(100*(r+Number(e.expended)),10)/100,c=parseInt(100*(c+Number(e.balanceFinish)),10)/100;var s={name:e.liquidName,balanceStart:n,received:l,expended:r,balanceFinish:c};a=a.concat([s])}return t=Number(e.routNumber),e})),a.sort((function(e,t){return e.name-t.name})),a}},83:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(0),l=a.n(n),r=a(84),c=function(e){var t=e.modalClass,a=e.modalText,n=e.modalFunction,c=e.Id,m=e.innerFunction,i=function(){n("modal")};return l.a.createElement("div",{id:t},l.a.createElement("div",{className:"window"},l.a.createElement("form",{className:t},l.a.createElement("div",{className:"top-content"},l.a.createElement("div",{className:"left-text"},l.a.createElement("pre",null,l.a.createElement(r.c,{icon:r.a,size:"medium",ariaLabel:"Alert"}),"            \u0423\u0432\u0430\u0433\u0430!!!")),l.a.createElement("button",{id:"deleteModal",type:"button",className:"btn btn-outline-secondary btn-sm",onClick:function(){return i()}},"\xd7"),l.a.createElement(r.c,{icon:r.b,size:"large",ariaLabel:"Flame",className:"flame"}),l.a.createElement("p",null,a),l.a.createElement("button",{id:"close-btn",type:"button",className:"btn btn-outline-danger btn-sm",onClick:function(){m(c),i()}},"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0434\u0430\u043d\u0456!")))))}},85:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(0),l=a.n(n),r=a(92),c=a(93),m=(a(81),a(78),function(e){var t=e.csvData,a=e.fileName,n=e.textCSV;return l.a.createElement("button",{onClick:function(e){return function(e,t){var a={Sheets:{data:c.utils.json_to_sheet(e)},SheetNames:["data"]},n=c.write(a,{bookType:"xlsx",type:"array"}),l=new Blob([n],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});r.saveAs(l,t+".xlsx")}(t,a)},className:"btn btn-success createExelBtn"},l.a.createElement("small",null,n))})},89:function(e,t){},95:function(e,t){},96:function(e,t){}}]);
//# sourceMappingURL=9.3e08224c.chunk.js.map