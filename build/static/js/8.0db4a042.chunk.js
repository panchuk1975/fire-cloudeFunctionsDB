(this["webpackJsonpnew-todo"]=this["webpackJsonpnew-todo"]||[]).push([[8],{112:function(e,t){},113:function(e,t,n){},118:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n(29),l=n(0),r=n.n(l),c=n(147),o=n(145),s=(n(119),n(120),n(113),n(114),n(104),n(106)),m=n(109),i=n(105),u=n(7),d=n(116),E=n(104),f=Object(l.memo)((function(e){var t=e.windowWidth,n=e.clientType,f=e.dates,j=e.userInfos,C=e.clients,p=e.projects,b=e.removeClient,w=e.openClient,h=e.clouseClient,v=e.addProject,P=e.openProject,N=e.clouseProject,I=e.removeProject,y=e.openCurrentProject,g=e.clouseCurrentProject,O=Object(l.useState)("modal"),T=Object(a.a)(O,2),x=T[0],A=T[1],D=Object(l.useState)(""),F=Object(a.a)(D,2),S=F[0],k=F[1],B=Object(l.useState)("modal"),M=Object(a.a)(B,2),U=M[0],W=M[1],H=Object(l.useState)(""),J=Object(a.a)(H,2),L=J[0],R=J[1],q=Object(l.useState)(),z=Object(a.a)(q,2),G=z[0],K=z[1],Q=Object(l.useState)(),V=Object(a.a)(Q,2),X=V[0],Y=V[1],Z=function(){(U="modal")?W("open"):W("modal")},$=u.a.auth.currentUser.uid,_=j.find((function(e){return e.owner===$}));if(!_)return null;var ee=j.find((function(e){return e.company===_.jointCompany}));if(!ee)return null;(C=(C=C.filter((function(e){return e.owner===ee.owner}))).filter((function(e){return e.clientType===n}))).sort((function(e,t){return new Date(t.registrationDate)-new Date(e.registrationDate)}));var te=C.length;return 0===te?null:r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(c.a,{component:"ul",className:"list-group"},te&&C.map((function(e){var n=p.filter((function(t){return t.projectOwner===e.id}));n.sort((function(e,t){return e.projectNumber-t.projectNumber}));var a=null;a="\u042e\u0440\u0456\u0434\u0438\u0447\u043d\u0438\u0439"===e.clientType?"legalClients":"unlegalClients";var l=null;e.openClient&&(l="tableItemsAreClouse");var c=null;e.openClient&&(c="deleteButtonItemAreClouse"),n.length&&(c="deleteButtonItemAreClouse"),_.company!==_.jointCompany&&(c="deleteButtonItemAreClouse");var m="deleteButtonItemAreClouse";n.length&&(m=""),_.company!==_.jointCompany&&(m=""),e.openClient&&(m="deleteButtonItemAreClouse");var i=[180,105,80,120,90,80,40,80,300,70,90,90],u=function(e,t){for(var n=0,a=0;n<e;)a+=t[n],n++;return a};return r.a.createElement(o.a,{key:e.id,classNames:"note",timeout:800},r.a.createElement("li",{key:e.id,className:"list-group-item clientInnerLi"},r.a.createElement("form",{className:"d-flex justify-content-between clientInnerForm"},r.a.createElement("table",{className:"clientTable ".concat(l),onClick:function(){w(e)}},r.a.createElement("tbody",null,r.a.createElement("tr",{align:"center"},t>70+u(1,i)&&r.a.createElement("td",{width:i[0]},r.a.createElement("small",{className:a},e.companyName)),t>70+u(2,i)&&r.a.createElement("td",{width:i[1]},r.a.createElement("small",null,e.secName)),t>70+u(3,i)&&r.a.createElement("td",{width:i[2]},r.a.createElement("small",null,e.firstName)),t>70+u(4,i)&&r.a.createElement("td",{width:i[3]},r.a.createElement("small",null,e.thirdName)),t>70+u(5,i)&&r.a.createElement("td",{width:i[4]},r.a.createElement("small",null,e.phonNumber)),t>70+u(6,i)&&r.a.createElement("td",{width:i[5]},r.a.createElement("small",null,e.contractNumber)),t>70+u(7,i)&&r.a.createElement("td",{width:i[6]},r.a.createElement("small",null,e.contractPeriod)),t>70+u(8,i)&&r.a.createElement("td",{width:i[7]},r.a.createElement("small",null,"".concat(E(e.registrationDate).format("DD.MM HH:mm")))),t>70+u(9,i)&&r.a.createElement("td",{width:i[8]},r.a.createElement("small",null,e.adress)),t>70+u(10,i)&&r.a.createElement("td",{width:i[9]},r.a.createElement("small",null,e.incomingSourse)),t>70+u(11,i)&&r.a.createElement("td",{width:i[10]},r.a.createElement("small",null,e.dateOfSignContract)),t>70+u(12,i)&&r.a.createElement("td",{width:i[11]},r.a.createElement("small",{className:"negotiationsResult"},e.negotiationsResult))))),r.a.createElement("div",null,r.a.createElement("button",{type:"button",className:"btn btn-outline-danger btn-sm deleteCarBtn ".concat(c),onClick:function(){Y(e.id),R("removeCar"),K("\u0412\u0438 \u043d\u0430\u043c\u0430\u0433\u0430\u0454\u0442\u0435\u0441\u044f \u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0434\u0430\u043d\u0456! \u041f\u0456\u0441\u043b\u044f \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043d\u044f \u0432\u0456\u0434\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u0434\u0430\u043d\u0438\u0445 \u0431\u0443\u0434\u0435 \u043d\u0435 \u043c\u043e\u0436\u043b\u0438\u0432\u0438\u043c!"),Z()}},"\xd7"),r.a.createElement("button",{type:"button",className:"btn btn-outline-secondary btn-sm deleteCarBtn ".concat(m),disabled:!0},"\xd7"),e.openClient&&r.a.createElement("table",{className:"clientTable",onClick:function(){h(e)}},r.a.createElement("tbody",null,r.a.createElement("tr",{align:"center"},r.a.createElement("td",{width:"200"},r.a.createElement("small",{className:a},"For close")),t>247&&r.a.createElement("td",{width:"100",className:a},r.a.createElement("small",null,"Info")),t>247&&r.a.createElement("td",{width:"100",className:a},r.a.createElement("small",null,"Info")),t>247&&r.a.createElement("td",{width:"100",className:a},r.a.createElement("small",null,"Info")),t>247&&r.a.createElement("td",{width:"100",className:a},r.a.createElement("small",null,"Info")),t>247&&r.a.createElement("td",{width:"100",className:a},r.a.createElement("small",null,"Info"))))),e.openClient&&r.a.createElement(s.a,{client:e,clients:C,userInfo:_}))),r.a.createElement("form",{className:"addingObjTable"}),!e.openClient&&r.a.createElement(d.a,{client:e,dates:f,newProjects:n,addProject:v,openProject:P,clouseProject:N,removeProject:I,openCurrentProject:y,clouseCurrentProject:g,windowWidth:t,setAlertClass:A,setAlertText:k,setFunct:R,setModalText:K,setModalClass:Z,setId:Y,modalClass:U,userInfo:_})))})),"removeCar"===L&&r.a.createElement(m.a,{modalClass:U,modalText:G,modalFunction:W,Id:X,innerFunction:b}),"removeList"===L&&r.a.createElement(m.a,{modalClass:U,modalText:G,modalFunction:W,Id:X,innerFunction:I}),r.a.createElement(i.a,{modalClass:x,modalText:S,modalFunction:A}))),r.a.createElement("div",{className:"d-flex justify-content-between"}))}))},122:function(e,t){},123:function(e,t){},138:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),r=n(118),c=n(28),o=n(19),s=n(7),m=Object(a.memo)((function(e){var t=e.windowWidth,n="";s.a.auth.currentUser&&(n=(n=s.a.auth.currentUser.email).split("@")[0]);var m=Object(a.useContext)(c.a),i=m.clients,u=m.dates,d=m.userInfos,E=m.loading,f=m.fetchClients,j=m.fetchDates,C=m.fetchUsersInfo,p=m.openClient,b=m.clouseClient,w=m.removeClient,h=m.projects,v=m.addProject,P=m.openProject,N=m.clouseProject,I=m.openCurrentProject,y=m.clouseCurrentProject,g=m.removeProject,O=m.fetchProjects;return Object(a.useEffect)((function(){f(),j(),C(),O()}),[]),l.a.createElement("div",null,l.a.createElement("small",null,n),E?l.a.createElement(o.a,null):l.a.createElement(r.a,{clients:i,dates:u,userInfos:d,openClient:p,clouseClient:b,removeClient:w,addProject:v,openProject:P,clouseProject:N,removeProject:g,clientType:"\u042e\u0440\u0456\u0434\u0438\u0447\u043d\u0438\u0439",windowWidth:t,projects:h,openCurrentProject:I,clouseCurrentProject:y}))}));t.default=m}}]);
//# sourceMappingURL=8.0db4a042.chunk.js.map