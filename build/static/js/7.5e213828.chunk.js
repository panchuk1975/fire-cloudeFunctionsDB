(this["webpackJsonpnew-todo"]=this["webpackJsonpnew-todo"]||[]).push([[7],{106:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(6),l=a(1),r=a(29),c=a(0),o=a.n(c),m=a(28),s=a(105),i=a(7),u=a(104),d=function(e){var t=e.client,a=e.clients,d=e.userInfo,E=Object(c.useContext)(m.a),p=Object(c.useState)("modal"),f=Object(r.a)(p,2),N=f[0],b=f[1],h=Object(c.useState)(""),v=Object(r.a)(h,2),C=v[0],w=v[1],j={};j=t?Object(l.a)(Object(l.a)({},t),{},{openClient:!1,openList:!1}):{clientType:"\u042e\u0440\u0456\u0434\u0438\u0447\u043d\u0438\u0439",companyName:"",secName:"\u0406\u0432\u0430\u043d\u043e\u0432",firstName:"\u0406\u0432\u0430\u043d",thirdName:"\u0406\u0432\u0430\u043d\u043e\u0432\u0438\u0447",contractNumber:"",adress:"\u041f\u043e\u043b\u0442\u0430\u0432\u0430",phonNumber:"0987896756",addPhonNumber:"0532678909",dateOfNegotiations:u(new Date).format("YYYY-MM-DD"),negotiationsResult:"\u041d\u0435 \u0443\u0437\u0433\u043e\u0434\u0436\u0435\u043d\u043e",incomingSourse:"",dateOfSignContract:u(new Date).format("YYYY-MM-DD"),contractPeriod:12,registrationDate:u(new Date).format("YYYY-MM-DDTHH:mm"),ipNumber:22345678865555,passportNumber:"\u0410\u0411 345678",additionalInfo:"",openClient:!1,openList:!1};var g=Object(c.useState)(Object(l.a)({},j)),y=Object(r.a)(g,2),P=y[0],F=y[1],I=function(e){F(Object(l.a)(Object(l.a)({},P),{},Object(n.a)({},e.target.name,e.currentTarget.value)))},x=null;return x=t?"modifyClientBasis":"createClientBasis",o.a.createElement("div",{className:x},o.a.createElement("div",{className:"clientMainForm"},o.a.createElement("div",{className:"d-flex flex-wrap justify-content-between"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"clientType"},o.a.createElement("small",null,"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441 \u043a\u043b\u0456\u0435\u043d\u0442\u0430:")),o.a.createElement("div",null,o.a.createElement("select",{type:"text",name:"clientType",value:P.clientType,onChange:I,className:"custom-select custom-select-sm important"},o.a.createElement("option",{className:"main",value:"\u042e\u0440\u0456\u0434\u0438\u0447\u043d\u0438\u0439"},"\u042e\u0440\u0456\u0434\u0438\u0447\u043d\u0438\u0439"),o.a.createElement("option",{value:"\u042e\u0440\u0456\u0434\u0438\u0447\u043d\u0438\u0439"},"\u042e\u0440\u0456\u0434\u0438\u0447\u043d\u0438\u0439"),o.a.createElement("option",{value:"\u0424\u0456\u0437\u0438\u0447\u043d\u0438\u0439"},"\u0424\u0456\u0437\u0438\u0447\u043d\u0438\u0439")))),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"compamyName"},o.a.createElement("small",null,"\u041d\u0430\u0439\u043c\u0435\u043d\u0443\u0432\u0430\u043d\u043d\u044f  \u043a\u043e\u043c\u043f\u0430\u043d\u0456\u0457")),o.a.createElement("input",{type:"text",className:"form-control important",placeholder:"\u041d\u0430\u0439\u043c\u0435\u043d\u0443\u0432\u0430\u043d\u043d\u044f \u043a\u043e\u043c\u043f\u0430\u043d\u0456\u0457",value:P.companyName||"",name:"companyName",onChange:I})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"secName"},o.a.createElement("small",null,"\u041f\u0440\u0438\u0437\u0432\u0456\u0449\u0435")),o.a.createElement("input",{type:"text",className:"form-control important",placeholder:"\u041f\u0440\u0438\u0437\u0432\u0456\u0449\u0435",value:P.secName,name:"secName",onChange:I,required:!0})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"firstName"},o.a.createElement("small",null,"\u0406\u043c'\u044f")),o.a.createElement("input",{type:"text",className:"form-control",placeholder:"\u0406\u043c'\u044f",value:P.firstName,name:"firstName",onChange:I})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"thirdName"},o.a.createElement("small",null,"\u041f\u043e \u0431\u0430\u0442\u044c\u043a\u043e\u0432\u0456")),o.a.createElement("input",{type:"text",className:"form-control",placeholder:"\u041f\u043e \u0431\u0430\u0442\u044c\u043a\u043e\u0432\u0456",value:P.thirdName,name:"thirdName",onChange:I})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"contractNumber"},o.a.createElement("small",null,"\u041d\u043e\u043c\u0435\u0440 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0443")),o.a.createElement("input",{type:"text",className:"form-control important",placeholder:"\u041d\u043e\u043c\u0435\u0440 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0443",value:P.contractNumber,name:"contractNumber",onChange:I})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"adress"},o.a.createElement("small",null,"\u0410\u0434\u0440\u0435\u0441\u0430")),o.a.createElement("input",{type:"text",className:"form-control",placeholder:"\u0410\u0434\u0440\u0435\u0441\u0430",value:P.adress,name:"adress",onChange:I})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"phonNumber"},o.a.createElement("small",null,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d")),o.a.createElement("input",{type:"text",className:"form-control",placeholder:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",value:P.phonNumber,name:"phonNumber",onChange:I})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"addPhonNumber"},o.a.createElement("small",null,"\u0414\u043e\u0434\u0430\u0442\u043a\u043e\u0432\u0442\u0438\u0439 \u0442\u0435\u043b\u0435\u0444\u043e\u043d")),o.a.createElement("input",{type:"text",className:"form-control",placeholder:"\u0414\u043e\u0434\u0430\u0442\u043a\u043e\u0432\u0442\u0438\u0439 \u0442\u0435\u043b\u0435\u0444\u043e\u043d",value:P.addPhonNumber,name:"addPhonNumber",onChange:I})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"dateOfNegotiations"},o.a.createElement("small",null,"\u0414\u0430\u0442\u0430 \u043f\u0435\u0440\u0435\u0433\u043e\u0432\u043e\u0440\u0456\u0432")),o.a.createElement("input",{type:"date",className:"form-control",placeholder:"\u0414\u0430\u0442\u0430 \u043f\u0435\u0440\u0435\u0433\u043e\u0432\u043e\u0440\u0456\u0432",value:u(P.dateOfNegotiations).format("YYYY-MM-DD"),name:"dateOfNegotiations",onChange:I})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"negotiationsResult"},o.a.createElement("small",null,"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u043f\u0435\u0440\u0435\u0433\u043e\u0432\u043e\u0440\u0456\u0432")),o.a.createElement("div",null,o.a.createElement("select",{type:"text",name:"negotiationsResult",value:P.negotiationsResult,onChange:I,className:"custom-select custom-select-sm"},o.a.createElement("option",{className:"main",value:"\u041d\u0435 \u0443\u0437\u0433\u043e\u0434\u0436\u0435\u043d\u043e"},"\u041d\u0435 \u0443\u0437\u0433\u043e\u0434\u0436\u0435\u043d\u043e"),o.a.createElement("option",{value:"\u0423\u0437\u0433\u043e\u0434\u0436\u0435\u043d\u043e"},"\u0423\u0437\u0433\u043e\u0434\u0436\u0435\u043d\u043e"),o.a.createElement("option",{value:"\u0412\u0456\u0434\u043a\u043b\u0430\u0434\u0435\u043d\u043e"},"\u0412\u0456\u0434\u043a\u043b\u0430\u0434\u0435\u043d\u043e")))),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"incomingSourse"},o.a.createElement("small",null,"\u0414\u0436\u0435\u0440\u0435\u043b\u043e \u043d\u0430\u0434\u0445\u043e\u0434\u0436\u0435\u043d\u043d\u044f")),o.a.createElement("div",null,o.a.createElement("select",{type:"text",name:"incomingSourse",value:P.incomingSourse,onChange:I,className:"custom-select custom-select-sm"},o.a.createElement("option",{className:"main",value:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"},"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"),o.a.createElement("option",{value:"\u0421\u0430\u0439\u0442"},"\u0421\u0430\u0439\u0442"),o.a.createElement("option",{value:"\u042e\u0442\u044e\u0431"},"\u042e\u0442\u044e\u0431"),o.a.createElement("option",{value:"\u0406\u043d\u0448\u0435"},"\u0406\u043d\u0448\u0435")))),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"dateOfSignContract"},o.a.createElement("small",null,"\u0414\u0430\u0442\u0430 \u0443\u043a\u043b\u0430\u0434\u0430\u043d\u043d\u044f \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0443")),o.a.createElement("input",{type:"date",className:"form-control",placeholder:"\u0414\u0430\u0442\u0430 \u0443\u043a\u043b\u0430\u0434\u0430\u043d\u043d\u044f \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0443",value:u(P.dateOfSignContract).format("YYYY-MM-DD"),name:"dateOfSignContract",onChange:I})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"contractPeriod"},o.a.createElement("small",null,"\u0421\u0442\u0440\u043e\u043a \u0434\u0456\u0457 \u0434\u043e\u0433\u0448\u043e\u0432\u043e\u0440\u0443, \u043c\u0456\u0441")),o.a.createElement("input",{type:"number",className:"form-control",placeholder:"\u0421\u0442\u0440\u043e\u043a \u0434\u0456\u0457 \u0434\u043e\u0433\u0448\u043e\u0432\u043e\u0440\u0443, \u043c\u0456\u0441",value:P.contractPeriod,name:"contractPeriod",onChange:I})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"ipNumber"},o.a.createElement("small",null,"\u0406\u041f\u041d")),o.a.createElement("input",{type:"number",className:"form-control",placeholder:"\u0406\u041f\u041d",value:P.ipNumber,name:"ipNumber",onChange:I})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"passportNumber"},o.a.createElement("small",null,"\u0421\u0435\u0440\u0456\u044f \u0442\u0430 \u043d\u043e\u043c\u0435\u0440 \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u0443")),o.a.createElement("input",{type:"text",className:"form-control",placeholder:"\u0421\u0435\u0440\u0456\u044f \u0442\u0430 \u043d\u043e\u043c\u0435\u0440 \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u0443",value:P.passportNumber,name:"passportNumber",onChange:I}))),o.a.createElement("div",{className:"form-group additionalInfoConteiner"},o.a.createElement("label",{htmlFor:"additionalInfo"},o.a.createElement("small",null,"\u0414\u043e\u0434\u0430\u0442\u043a\u043e\u0432\u0456 \u0434\u0430\u043d\u0456")),o.a.createElement("textarea",{type:"text",className:"form-control additionalInfo",placeholder:"\u0414\u043e\u0434\u0430\u0442\u043a\u043e\u0432\u043e",value:P.additionalInfo,name:"additionalInfo",onChange:I}))),o.a.createElement("div",{className:"d-flex justify-content-between"},o.a.createElement("button",{className:"btn btn-success createSaveClientBtn",value:"Enter",name:"submit",onClick:function(e){var n=i.a.auth.currentUser.uid,l=!!(a=a.filter((function(e){return e.owner===n}))).filter((function(e){return e.contractNumber===P.contractNumber})).length;if(!P.secName&&w("\u041f\u0440\u0438\u0437\u0432\u0456\u0449\u0435  \u043e\u0431\u043e\u0432\u044f\u0437\u043a\u043e\u0432\u0435!"),!P.secName&&b("open"),e.preventDefault(),P.secName){if(t){if(!(d.company===d.jointCompany&d.owner===t.owner))return w("\u0423 \u0412\u0430\u0441 \u0432\u0456\u0434\u0441\u0443\u0442\u043d\u0456 \u043f\u0440\u0430\u0432\u0430 \u0432\u043d\u043e\u0441\u0438\u0442\u0438 \u0437\u043c\u0456\u043d\u0438 \u0432 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0438!"),void b("open");E.changeClient(P).then((function(){})).catch((function(){w("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430!"),b("open")})),w("\u0406\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044e \u0441\u043a\u043e\u0440\u0435\u0433\u043e\u0432\u0430\u043d\u043e!"),b("open")}else{if(l)return w("\u0414\u043e\u0433\u043e\u0432\u0456\u0440 \u0437 \u0442\u0430\u043a\u0438\u043c \u043d\u043e\u043c\u0435\u0440\u043e\u043c \u0432\u0436\u0435 \u0456\u0441\u043d\u0443\u0454! \u041e\u0431\u0435\u0440\u0456\u0442\u044c \u0456\u043d\u0448\u0438\u0439 \u0430\u0431\u043e \u0432\u043d\u0435\u0441\u0456\u0442\u044c \u0437\u043c\u0456\u043d\u0438!"),void b("open");if(d.company!==d.jointCompany)return w("\u0423 \u0412\u0430\u0441 \u0432\u0456\u0434\u0441\u0443\u0442\u043d\u0456 \u043f\u0440\u0430\u0432\u0430 \u0432\u043d\u043e\u0441\u0438\u0442\u0438 \u0437\u043c\u0456\u043d\u0438 \u0432 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0438!"),void b("open");E.addClient(P).then((function(){})).catch((function(){w("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430!"),b("open")})),w("\u041d\u043e\u0432\u043e\u0433\u043e \u043a\u043b\u0456\u0435\u043d\u0442\u0430 \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043e!"),b("open"),"\u042e\u0440\u0456\u0434\u0438\u0447\u043d\u0438\u0439"===P.clientType?(w("\u041d\u043e\u0432\u043e\u0433\u043e \u043a\u043b\u0456\u0435\u043d\u0442\u0430 \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043e! \u0414\u043b\u044f \u043f\u0435\u0440\u0435\u0433\u043b\u044f\u0434\u0443 \u043f\u0435\u0440\u0435\u0439\u0434\u0456\u0442\u044c \u0434\u043e \u044e\u0440\u0438\u0434\u0438\u0447\u043d\u0438\u0445 \u043e\u0441\u0456\u0431."),b("open")):"\u0424\u0456\u0437\u0438\u0447\u043d\u0438\u0439"===P.clientType?(w("\u041d\u043e\u0432\u043e\u0433\u043e \u043a\u043b\u0456\u0435\u043d\u0442\u0430 \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043e! \u0414\u043b\u044f \u043f\u0435\u0440\u0435\u0433\u043b\u044f\u0434\u0443 \u043f\u0435\u0440\u0435\u0439\u0434\u0456\u0442\u044c \u0434\u043e \u0444\u0456\u0437\u0438\u0447\u043d\u0438\u0445 \u043e\u0441\u0456\u0431."),b("open")):b("modal")}setTimeout((function(){b("modal")}),1500)}}},!t&&"\u0421\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u043d\u043e\u0432\u043e\u0433\u043e \u043a\u043b\u0456\u0454\u043d\u0442\u0430",t&&"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438 \u0434\u0430\u043d\u0456")),o.a.createElement(s.a,{modalClass:N,modalText:C,modalFunction:b}))}},108:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n=function(e){var t=0,a=[];return e||(e=[]),e.map((function(e){var n=0,l=0,r=0,c=0;if(!!a.filter((function(t){return t.name===e.liquidName})).length){var o=a.filter((function(t){return t.name===e.liquidName})).shift(),m=a.filter((function(t){return t.name!==e.liquidName}));n=parseInt(100*Number(o.balanceStart),10)/100,n=Number(e.routNumber)<Number(t)?parseInt(100*Number(e.balanceStart))/100:parseInt(100*Number(o.balanceStart),10)/100,l=parseInt(100*(Number(o.received)+Number(e.received)),10)/100,r=parseInt(100*(Number(o.expended)+Number(e.expended)),10)/100,c=Number(e.routNumber)<Number(t)?parseInt(100*Number(o.balanceFinish),10)/100:parseInt(100*Number(e.balanceFinish),10)/100;var s={name:e.liquidName,balanceStart:n,received:l,expended:r,balanceFinish:c};a=m.concat([s])}else{n=parseInt(100*(n+Number(e.balanceStart)),10)/100,l=parseInt(100*(l+Number(e.received)),10)/100,r=parseInt(100*(r+Number(e.expended)),10)/100,c=parseInt(100*(c+Number(e.balanceFinish)),10)/100;var i={name:e.liquidName,balanceStart:n,received:l,expended:r,balanceFinish:c};a=a.concat([i])}return t=Number(e.routNumber),e})),a.sort((function(e,t){return e.name-t.name})),a}},109:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(0),l=a.n(n),r=function(e){var t=e.modalClass,a=e.modalText,n=e.modalFunction;return l.a.createElement("div",{id:t},l.a.createElement("div",{className:"showWindow"},l.a.createElement("div",{className:t},l.a.createElement("div",{className:"top-show-content"},l.a.createElement("button",{id:"deleteShowModal",type:"button",className:"btn btn-outline-secondary btn-sm",onClick:function(){n("modal")}},"\xd7"),l.a.createElement("p",null,a)))))}},110:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(0),l=a.n(n),r=a(149),c=a(147),o=a(113),m=a(111),s=a(7),i=a(104),u=Object(n.memo)((function(e){var t=e.client,a=e.dates,n=e.userInfo,u=e.newProjects,d=e.openProject,E=e.clouseProject,p=e.openCurrentProject,f=e.clouseCurrentProject,N=e.windowWidth,b=e.setAlertClass,h=e.setAlertText,v=e.setFunct,C=e.setModalText,w=e.setModalClass,j=e.setId,g=(e.modalClass,e.openClientTableClass),y=(e.carRoutes,e.openNewList,e.clouseNewList,e.openNewRoute,e.closeNewRoute,e.openList,e.closeList,e.openRoute,e.closeRoute,e.changeListRouteTime,s.a.auth.currentUser.uid),P=a.find((function(e){return e.owner===y}));P||(P={dateStart:"1970-01-01T00:00",dateFinish:"2070-01-01T00:00"});var F=Object(m.b)(N),I=function(e,t){for(var a=0,n=0;a<e;)n+=t[a].size,a++;return n};return l.a.createElement("form",null,l.a.createElement("details",null,l.a.createElement("summary",{id:"summary"},l.a.createElement("div",{id:"summaryConteiner",className:"d-flex justify-content-between"},l.a.createElement("small",{id:"small"},"\u041f\u0440\u043e\u0435\u043a\u0442\u0438"),n.company===n.jointCompany&&l.a.createElement("small",{id:"small",className:"smallEnd"}))),l.a.createElement("div",{className:"d-flex justify-content-between"},l.a.createElement("table",{className:"headTable"},l.a.createElement("tbody",null,l.a.createElement("tr",{align:"center"},N>75+I(1,F)&&l.a.createElement("td",{width:F[0].size,onClick:function(){v("showFunction"),C(F[0].fullName),w()}},l.a.createElement("small",null,F[0].name)),N>75+I(2,F)&&l.a.createElement("td",{width:F[1].size,onClick:function(){v("showFunction"),C(F[1].fullName),w()}},l.a.createElement("small",null,F[1].name)),N>75+I(3,F)&&l.a.createElement("td",{width:F[2].size,onClick:function(){v("showFunction"),C(F[2].fullName),w()}},l.a.createElement("small",null,F[2].name)),N>75+I(4,F)&&l.a.createElement("td",{width:F[3].size,onClick:function(){v("showFunction"),C(F[3].fullName),w()}},l.a.createElement("small",null,F[3].name)),N>75+I(5,F)&&l.a.createElement("td",{width:F[4].size,onClick:function(){v("showFunction"),C(F[4].fullName),w()}},l.a.createElement("small",null,F[4].name)),N>75+I(6,F)&&l.a.createElement("td",{width:F[5].size,onClick:function(){v("showFunction"),C(F[5].fullName),w()}},l.a.createElement("small",null,F[5].name)),N>75+I(7,F)&&l.a.createElement("td",{width:F[6].size,onClick:function(){v("showFunction"),C(F[6].fullName),w()}},l.a.createElement("small",null,F[6].name)),N>75+I(8,F)&&l.a.createElement("td",{width:F[7].size,onClick:function(){v("showFunction"),C(F[7].fullName),w()}},l.a.createElement("small",null,F[7].name)),N>75+I(9,F)&&l.a.createElement("td",{width:F[8].size,onClick:function(){v("showFunction"),C(F[8].fullName),w()}},l.a.createElement("small",null,F[8].name)),N>75+I(10,F)&&l.a.createElement("td",{width:F[9].size,onClick:function(){v("showFunction"),C(F[9].fullName),w()}},l.a.createElement("small",null,F[9].name)),N>75+I(11,F)&&l.a.createElement("td",{width:F[10].size,onClick:function(){v("showFunction"),C(F[10].fullName),w()}},l.a.createElement("small",null,F[10].name)),N>75+I(12,F)&&l.a.createElement("td",{width:F[11].size,onClick:function(){v("showFunction"),C(F[11].fullName),w()}},l.a.createElement("small",null,F[11].name)),N>75+I(13,F)&&l.a.createElement("td",{width:F[12].size,onClick:function(){v("showFunction"),C(F[12].fullName),w()}},l.a.createElement("small",null,F[12].name)),N>75+I(14,F)&&l.a.createElement("td",{width:F[13].size,onClick:function(){v("showFunction"),C(F[13].fullName),w()}},l.a.createElement("small",null,F[13].name)))))),l.a.createElement(r.a,{component:"ul",className:"project-group"},u.map((function(e){var a=Object(m.a)(e),r=i(new Date(e.projectReadinessDate)).format("YYYY-MM-DD")>=i(new Date).format("YYYY-MM-DD")?"goodTime":"badTime",s="\u0422\u0430\u043a"===e.signatur\u0443OfAct?"good":"bad",d="\u0422\u0430\u043a"===e.poketExistence?"good":"bad",E="\u0422\u0430\u043a"===e.contractExistence?"good":"bad";return l.a.createElement(c.a,{key:e.id,classNames:"note",timeout:800},l.a.createElement("li",{key:e.id,className:"project-group-item projectInnerLi"},!e.openProject&&l.a.createElement("div",{key:e.id,className:"projectBasis"},l.a.createElement("div",{className:"d-flex justify-content-between"},l.a.createElement("table",{className:"projectTable",onClick:function(){return p(e)}},l.a.createElement("tbody",null,l.a.createElement("tr",{align:"center"},N>75+I(1,F)&&l.a.createElement("td",{width:F[0].size,className:"head"},l.a.createElement("small",{className:"projectName"},a[0])),N>75+I(2,F)&&l.a.createElement("td",{width:F[1].size,className:"head ".concat(r)},l.a.createElement("small",{className:"smallProjectDateBold"},"".concat(i(a[1]).format("DD.MM.YY")))),N>75+I(3,F)&&l.a.createElement("td",{width:F[2].size},l.a.createElement("small",{className:E},a[2])),N>75+I(4,F)&&l.a.createElement("td",{width:F[3].size},l.a.createElement("small",{className:s},a[3])),N>75+I(5,F)&&l.a.createElement("td",{width:F[4].size},l.a.createElement("small",{className:d},a[4])),N>75+I(6,F)&&l.a.createElement("td",{width:F[5].size},l.a.createElement("small",null,a[5])),N>75+I(7,F)&&l.a.createElement("td",{width:F[6].size},l.a.createElement("small",null,a[6])),N>75+I(8,F)&&l.a.createElement("td",{width:F[7].size},l.a.createElement("small",null,a[7])),N>75+I(9,F)&&l.a.createElement("td",{width:F[8].size,className:"head"},l.a.createElement("small",null,"".concat(i(a[8]).format("DD.MM.YY")))),N>75+I(10,F)&&l.a.createElement("td",{width:F[9].size},l.a.createElement("small",null,a[9])),N>75+I(11,F)&&l.a.createElement("td",{width:F[10].size},l.a.createElement("small",null,a[10])),N>75+I(12,F)&&l.a.createElement("td",{width:F[11].size},l.a.createElement("small",null,a[11])),N>75+I(13,F)&&l.a.createElement("td",{width:F[12].size},l.a.createElement("small",null,a[12])),N>75+I(14,F)&&l.a.createElement("td",{width:F[13].size},l.a.createElement("small",null,a[13]))))),!e.openProject&![].length&n.company===n.jointCompany&n.owner===t.owner&&l.a.createElement("button",{id:"deleteProjectBtn",type:"button",className:"btn btn-outline-danger btn-sm deleteProjectBtn",onClick:function(){j(e.id),v("removeList"),C("\u0412\u0438\u0434\u0430\u043b\u0435\u043d\u043d\u044f \u043f\u0440\u043e\u0435\u043a\u0442\u0443! \u0414\u043b\u044f \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043d\u044f \u043a\u043b\u0456\u0454\u043d\u0442\u0443 \u043d\u0435\u043e\u0431\u0445\u0456\u0434\u043d\u043e \u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0432\u0441\u0456 \u043f\u0440\u043e\u0435\u043a\u0442\u0438!!!"),w()}},"\u0425"))),l.a.createElement("div",null,l.a.createElement("div",{className:"clouseProjectBasis",onClick:function(){return f(e)}},e.openProject&&l.a.createElement("table",{className:"clouseProjectForm"},l.a.createElement("tbody",null,l.a.createElement("tr",{className:"clouseProjectTableButton"},l.a.createElement("td",null,"\u0417\u0430\u043a\u0440\u0438\u0442\u0438 \u0444\u043e\u0440\u043c\u0443 \u043f\u0440\u043e\u0435\u043a\u0442\u0430"))))),e.openProject&&l.a.createElement(o.a,{className:g,client:t,project:e,setAlertText:h,setAlertClass:b,newProjects:u,userInfo:n}))))}))),l.a.createElement("div",{className:"d-flex justify-content-between projectButtonsGrup"},l.a.createElement("button",{type:"button",className:"btn btn-outline-primary btn-sm addProjectBtn",onClick:function(){return d(t)},style:{marginRight:4}},"+ \u041f\u0440\u043e\u0435\u043a\u0442"),l.a.createElement("button",{type:"button",className:"btn btn-outline-info btn-sm closeProjectBtn",onClick:function(){return E(t)},style:{marginRight:4}},"\u0417\u0430\u043a\u0440\u0438\u0442\u0438")),t.openProject&&l.a.createElement(o.a,{client:t,setAlertText:h,setAlertClass:b,newProjects:u,userInfo:n})))}))},117:function(e,t){},118:function(e,t,a){},119:function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));var n=a(29),l=a(0),r=a.n(l),c=a(149),o=a(147),m=(a(120),a(121),a(118),a(108),a(104),a(106)),s=a(112),i=a(105),u=a(109),d=a(7),E=a(110),p=a(104),f=Object(l.memo)((function(e){var t=e.windowWidth,a=e.clientType,f=e.dates,N=e.userInfos,b=e.clients,h=e.projects,v=e.removeClient,C=e.openClient,w=e.clouseClient,j=e.addProject,g=e.openProject,y=e.clouseProject,P=e.removeProject,F=e.openCurrentProject,I=e.clouseCurrentProject,x=Object(l.useState)("modal"),O=Object(n.a)(x,2),T=O[0],D=O[1],k=Object(l.useState)(""),Y=Object(n.a)(k,2),z=Y[0],S=Y[1],M=Object(l.useState)("modal"),B=Object(n.a)(M,2),A=B[0],R=B[1],L=Object(l.useState)(""),q=Object(n.a)(L,2),U=q[0],W=q[1],H=Object(l.useState)(),J=Object(n.a)(H,2),G=J[0],K=J[1],Q=Object(l.useState)(),V=Object(n.a)(Q,2),X=V[0],Z=V[1],$=function(){(A="modal")?R("open"):R("modal")},_=d.a.auth.currentUser.uid,ee=N.find((function(e){return e.owner===_}));if(!ee)return null;var te=N.find((function(e){return e.company===ee.jointCompany}));if(!te)return null;(b=(b=b.filter((function(e){return e.owner===te.owner}))).filter((function(e){return e.clientType===a}))).sort((function(e,t){return new Date(t.registrationDate)-new Date(e.registrationDate)}));var ae=b.length;return 0===ae?null:r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(c.a,{component:"ul",className:"list-group"},ae&&b.map((function(e){var a=h.filter((function(t){return t.projectOwner===e.id}));a.sort((function(e,t){return e.projectNumber-t.projectNumber}));var n=null;n="\u042e\u0440\u0456\u0434\u0438\u0447\u043d\u0438\u0439"===e.clientType?"legalClients":"unlegalClients";var l=null;e.openClient&&(l="tableItemsAreClouse");var c=null;e.openClient&&(c="deleteButtonItemAreClouse"),a.length&&(c="deleteButtonItemAreClouse"),ee.company!==ee.jointCompany&&(c="deleteButtonItemAreClouse");var s="deleteButtonItemAreClouse";a.length&&(s=""),ee.company!==ee.jointCompany&&(s=""),e.openClient&&(s="deleteButtonItemAreClouse");var i=[180,105,80,120,90,80,40,80,300,70,90,90],u=function(e,t){for(var a=0,n=0;a<e;)n+=t[a],a++;return n};return r.a.createElement(o.a,{key:e.id,classNames:"note",timeout:800},r.a.createElement("li",{key:e.id,className:"list-group-item clientInnerLi"},r.a.createElement("form",{className:"d-flex justify-content-between clientInnerForm"},r.a.createElement("table",{className:"clientTable ".concat(l),onClick:function(){C(e)}},r.a.createElement("tbody",null,r.a.createElement("tr",{align:"center"},t>70+u(1,i)&&r.a.createElement("td",{width:i[0]},r.a.createElement("small",{className:n},e.companyName)),t>70+u(2,i)&&r.a.createElement("td",{width:i[1]},r.a.createElement("small",null,e.secName)),t>70+u(3,i)&&r.a.createElement("td",{width:i[2]},r.a.createElement("small",null,e.firstName)),t>70+u(4,i)&&r.a.createElement("td",{width:i[3]},r.a.createElement("small",null,e.thirdName)),t>70+u(5,i)&&r.a.createElement("td",{width:i[4]},r.a.createElement("small",null,e.phonNumber)),t>70+u(6,i)&&r.a.createElement("td",{width:i[5]},r.a.createElement("small",null,e.contractNumber)),t>70+u(7,i)&&r.a.createElement("td",{width:i[6]},r.a.createElement("small",null,e.contractPeriod)),t>70+u(8,i)&&r.a.createElement("td",{width:i[7]},r.a.createElement("small",null,"".concat(p(e.registrationDate).format("DD.MM HH:mm")))),t>70+u(9,i)&&r.a.createElement("td",{width:i[8]},r.a.createElement("small",null,e.adress)),t>70+u(10,i)&&r.a.createElement("td",{width:i[9]},r.a.createElement("small",null,e.incomingSourse)),t>70+u(11,i)&&r.a.createElement("td",{width:i[10]},r.a.createElement("small",null,e.dateOfSignContract)),t>70+u(12,i)&&r.a.createElement("td",{width:i[11]},r.a.createElement("small",{className:"negotiationsResult"},e.negotiationsResult))))),r.a.createElement("div",null,r.a.createElement("button",{type:"button",className:"btn btn-outline-danger btn-sm deleteCarBtn ".concat(c),onClick:function(){Z(e.id),W("removeCar"),K("\u0412\u0438 \u043d\u0430\u043c\u0430\u0433\u0430\u0454\u0442\u0435\u0441\u044f \u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0434\u0430\u043d\u0456! \u041f\u0456\u0441\u043b\u044f \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043d\u044f \u0432\u0456\u0434\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u0434\u0430\u043d\u0438\u0445 \u0431\u0443\u0434\u0435 \u043d\u0435 \u043c\u043e\u0436\u043b\u0438\u0432\u0438\u043c!"),$()}},"\xd7"),r.a.createElement("button",{type:"button",className:"btn btn-outline-secondary btn-sm deleteCarBtn ".concat(s),disabled:!0},"\xd7"),e.openClient&&r.a.createElement("table",{className:"clientTable",onClick:function(){w(e)}},r.a.createElement("tbody",null,r.a.createElement("tr",{align:"center"},r.a.createElement("td",{width:"200"},r.a.createElement("small",{className:n},"For close")),t>247&&r.a.createElement("td",{width:"100",className:n},r.a.createElement("small",null,"Info")),t>247&&r.a.createElement("td",{width:"100",className:n},r.a.createElement("small",null,"Info")),t>247&&r.a.createElement("td",{width:"100",className:n},r.a.createElement("small",null,"Info")),t>247&&r.a.createElement("td",{width:"100",className:n},r.a.createElement("small",null,"Info")),t>247&&r.a.createElement("td",{width:"100",className:n},r.a.createElement("small",null,"Info"))))),e.openClient&&r.a.createElement(m.a,{client:e,clients:b,userInfo:ee}))),r.a.createElement("form",{className:"addingObjTable"}),!e.openClient&&r.a.createElement(E.a,{client:e,dates:f,newProjects:a,addProject:j,openProject:g,clouseProject:y,removeProject:P,openCurrentProject:F,clouseCurrentProject:I,windowWidth:t,setAlertClass:D,setAlertText:S,setFunct:W,setModalText:K,setModalClass:$,setId:Z,modalClass:A,userInfo:ee})))})),"removeCar"===U&&r.a.createElement(s.a,{modalClass:A,modalText:G,modalFunction:R,Id:X,innerFunction:v}),"removeList"===U&&r.a.createElement(s.a,{modalClass:A,modalText:G,modalFunction:R,Id:X,innerFunction:P}),"showFunction"===U&&r.a.createElement(u.a,{modalClass:A,modalText:G,modalFunction:R}),r.a.createElement(i.a,{modalClass:T,modalText:z,modalFunction:D}))),r.a.createElement("div",{className:"d-flex justify-content-between"}))}))},123:function(e,t){},124:function(e,t){},140:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(119),c=a(28),o=a(19),m=a(7),s=Object(n.memo)((function(e){var t=e.windowWidth,a="";m.a.auth.currentUser&&(a=(a=m.a.auth.currentUser.email).split("@")[0]);var s=Object(n.useContext)(c.a),i=s.clients,u=s.dates,d=s.userInfos,E=s.loading,p=s.fetchClients,f=s.fetchDates,N=s.fetchUsersInfo,b=s.openClient,h=s.clouseClient,v=s.removeClient,C=s.projects,w=s.addProject,j=s.openProject,g=s.clouseProject,y=s.openCurrentProject,P=s.clouseCurrentProject,F=s.removeProject,I=s.fetchProjects;return Object(n.useEffect)((function(){p(),f(),N(),I()}),[]),l.a.createElement("div",null,l.a.createElement("small",null,a),E?l.a.createElement(o.a,null):l.a.createElement(r.a,{clients:i,dates:u,userInfos:d,openClient:b,clouseClient:h,removeClient:v,addProject:w,openProject:j,clouseProject:g,removeProject:F,clientType:"\u042e\u0440\u0456\u0434\u0438\u0447\u043d\u0438\u0439",windowWidth:t,projects:C,openCurrentProject:y,clouseCurrentProject:P}))}));t.default=s}}]);
//# sourceMappingURL=7.5e213828.chunk.js.map