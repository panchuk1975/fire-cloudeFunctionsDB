{"version":3,"sources":["components/ShowBox.js","components/AllProjectsComponent.js","components/AllProjects.js","pages/Projects.js"],"names":["ShowBox","modalClass","modalText","modalFunction","id","className","type","onClick","moment","require","AllProjectsComponent","memo","dates","userInfo","newProjects","sizeArray","openCurrentProject","openProject","clouseProject","clouseCurrentProject","windowWidth","setAlertClass","setAlertText","setFunct","setModalText","setModalClass","setId","openClientTableClass","owner","fire","auth","currentUser","uid","ownerDates","find","date","dateStart","dateFinish","summArray","numb","i","summ","size","TransitionGroup","component","map","project","projectDataArray","ProjectDataArray","projectReadinessDateClass","Date","projectReadinessDate","format","signaturуOfActClass","signaturуOfAct","poketExistenceClass","poketExistence","contractExistenceClass","contractExistence","CSSTransition","key","classNames","timeout","align","width","length","company","jointCompany","CreateProject","AllProjects","clientType","userInfos","clients","projects","removeClient","addProject","removeProject","useState","alertClass","alertText","setClass","fun","textModal","Id","info","userInUse","infoUse","filter","client","sort","a","b","registrationDate","SizeNameArray","fullName","name","ModalBox","innerFunction","AlertBox","Projects","email","split","useContext","FirebaseContext","loading","fetchClients","fetchDates","fetchUsersInfo","openClient","clouseClient","fetchProjects","useEffect","Loader"],"mappings":"6GAAA,sDAEaA,EAAU,SAAC,GAA8C,IAA5CC,EAA2C,EAA3CA,WAAYC,EAA+B,EAA/BA,UAAWC,EAAoB,EAApBA,cAI/C,OACE,yBAAKC,GAAIH,GACP,yBAAKI,UAAU,cACb,yBAAKA,UAAWJ,GACd,yBAAKI,UAAU,oBACb,4BACED,GAAG,kBACHE,KAAK,SACLD,UAAU,mCACVE,QAAS,WAXnBJ,EAAc,WAON,QAQA,2BAAID,S,0ICdZM,EAASC,EAAQ,KAERC,EAAuBC,gBAClC,YAmBO,IAlBLC,EAkBI,EAlBJA,MACAC,EAiBI,EAjBJA,SACAC,EAgBI,EAhBJA,YACAC,EAeI,EAfJA,UAGAC,GAYI,EAdJC,YAcI,EAbJC,cAaI,EAZJF,oBACAG,EAWI,EAXJA,qBAEAC,EASI,EATJA,YACAC,EAQI,EARJA,cACAC,EAOI,EAPJA,aACAC,EAMI,EANJA,SACAC,EAKI,EALJA,aACAC,EAII,EAJJA,cACAC,EAGI,EAHJA,MAEAC,GACI,EAFJ1B,WAEI,EADJ0B,sBAIIC,EAAQC,IAAKC,KAAKC,YAAYC,IAC9BC,EAAarB,EAAMsB,MAAK,SAACC,GAAD,OAAUA,EAAKP,QAAUA,KAChDK,IACHA,EAAa,CACXG,UAAW,mBACXC,WAAY,qBAGhB,IAAMC,EAAY,SAACC,EAAMxB,GAGvB,IAFA,IAAIyB,EAAI,EACJC,EAAO,EACJD,EAAID,GACTE,GAAc1B,EAAUyB,GAAGE,KAC3BF,IAEF,OAAOC,GAGT,OACE,8BACE,kBAACE,EAAA,EAAD,CAAiBC,UAAU,KAAKvC,UAAU,iBACvCS,EAAY+B,KAAI,SAACC,GAChB,IAQMC,EAAmBC,YAAiBF,GAEtCG,EAA6BzC,EAAO,IAAI0C,KAAKJ,EAAQK,uBACtDC,OAAO,eAAiB5C,EAAO,IAAI0C,MACjCE,OAAO,cAAiB,WAAa,UACtCC,EAAkD,uBAA3BP,EAAQQ,oBAA4B,OAAS,MACpEC,EAAkD,uBAA3BT,EAAQU,eAA4B,OAAS,MACpEC,EAAwD,uBAA9BX,EAAQY,kBAA+B,OAAS,MAC9E,OACE,kBAACC,EAAA,EAAD,CACEC,IAAKd,EAAQ1C,GACbyD,WAAY,OACZC,QAAS,KAET,wBACEF,IAAKd,EAAQ1C,GACbC,UAAU,sCAERyC,EAAQ7B,aACR,yBAAK2C,IAAKd,EAAQ1C,GAAIC,UAAU,gBAC9B,yBAAKA,UAAU,kCACb,2BACEA,UAAU,eACVE,QAAS,kBAAMS,EAAmB8B,KAElC,+BACE,wBAAIiB,MAAM,UACP3C,EAAc,GAAKkB,EAAU,EAAGvB,IAC/B,wBAAIiD,MAAOjD,EAAU,GAAG2B,KAAMrC,UAAU,QACtC,2BAAOA,UAAU,eACf0C,EAAiB,KAGtB3B,EAAc,GAAKkB,EAAU,EAAGvB,IAC/B,wBAAIiD,MAAOjD,EAAU,GAAG2B,KACtBrC,UAAS,eAAU4C,IACnB,2BAAO5C,UAAU,wBAAjB,UACKG,EACHuC,EAAiB,IACjBK,OAAO,eAGZhC,EAAc,GAAKkB,EAAU,EAAGvB,IAC/B,wBAAIiD,MAAOjD,EAAU,GAAG2B,MACtB,2BACErC,UAAWoD,GACXV,EAAiB,KAGtB3B,EAAc,GAAKkB,EAAU,EAAGvB,IAC/B,wBAAIiD,MAAOjD,EAAU,GAAG2B,MACtB,2BACErC,UAAWgD,GACRN,EAAiB,KAGzB3B,EAAc,GAAKkB,EAAU,EAAGvB,IAC/B,wBAAIiD,MAAOjD,EAAU,GAAG2B,MACtB,2BACErC,UAAWkD,GACXR,EAAiB,KAGtB3B,EAAc,GAAKkB,EAAU,EAAGvB,IAC/B,wBAAIiD,MAAOjD,EAAU,GAAG2B,MACtB,+BAAQK,EAAiB,KAG5B3B,EAAc,GAAKkB,EAAU,EAAGvB,IAC/B,wBAAIiD,MAAOjD,EAAU,GAAG2B,MACtB,+BAAQK,EAAiB,KAG5B3B,EAAc,GAAKkB,EAAU,EAAGvB,IAC/B,wBAAIiD,MAAOjD,EAAU,GAAG2B,MACtB,+BAAQK,EAAiB,KAG5B3B,EAAc,GAAKkB,EAAU,EAAGvB,IAC/B,wBAAIiD,MAAOjD,EAAU,GAAG2B,KAAMrC,UAAU,QACtC,yCAAWG,EACTuC,EAAiB,IACjBK,OAAO,eAGZhC,EAAc,GAAKkB,EAAU,GAAIvB,IAChC,wBAAIiD,MAAOjD,EAAU,GAAG2B,MACtB,+BAAQK,EAAiB,KAG5B3B,EACC,GAAKkB,EAAU,GAAIvB,IACjB,wBAAIiD,MAAOjD,EAAU,IAAI2B,MACvB,+BAAQK,EAAiB,MAG9B3B,EACC,GAAKkB,EAAU,GAAIvB,IACjB,wBAAIiD,MAAOjD,EAAU,IAAI2B,MACvB,+BACGK,EAAiB,MAIzB3B,EACC,GAAKkB,EAAU,GAAIvB,IACjB,wBAAIiD,MAAOjD,EAAU,IAAI2B,MACvB,+BAAQK,EAAiB,MAG9B3B,EACC,GAAKkB,EAAU,GAAIvB,IACjB,wBAAIiD,MAAOjD,EAAU,IAAI2B,MACvB,+BAAQK,EAAiB,UAMnCD,EAAQ7B,aA/HN,GAgISgD,OACVpD,EAASqD,UAAYrD,EAASsD,cAG7B,4BACE/D,GAAG,mBACHE,KAAK,SACLD,UAAU,iDACVE,QAAS,WACPmB,EAAMoB,EAAQ1C,IACdmB,EAAS,cACTC,EAlK1B,oYAmK0BC,MARJ,YAiBV,6BACE,yBACEpB,UAAU,qBACVE,QAAS,kBAAMY,EAAqB2B,KAEnCA,EAAQ7B,aACP,2BAAOZ,UAAU,qBACf,+BACE,wBAAIA,UAAU,4BACZ,wJAMTyC,EAAQ7B,aACP,kBAACmD,EAAA,EAAD,CACE/D,UAAWsB,EAEXmB,QAASA,EACTxB,aAAcA,EACdD,cAAeA,EACfP,YAAaA,EACbD,SAAUA,eCxNrBwD,EAAc1D,gBACzB,YAkBO,IAhBLS,EAgBI,EAhBJA,YAGAR,GAaI,EAfJ0D,WAeI,EAbJ1D,OACA2D,EAYI,EAZJA,UACAC,EAWI,EAXJA,QACAC,EAUI,EAVJA,SAEAC,EAQI,EARJA,aAEAC,EAMI,EANJA,WACA1D,EAKI,EALJA,YACAC,EAII,EAJJA,cACA0D,EAGI,EAHJA,cACA5D,EAEI,EAFJA,mBACAG,EACI,EADJA,qBACI,EAE8B0D,mBAAS,SAFvC,mBAECC,EAFD,KAEazD,EAFb,OAG4BwD,mBAAS,IAHrC,mBAGCE,EAHD,KAGYzD,EAHZ,OAIyBuD,mBAAS,SAJlC,mBAIC5E,EAJD,KAIa+E,EAJb,OAKkBH,mBAAS,IAL3B,mBAKCI,EALD,KAKM1D,EALN,OAM4BsD,qBAN5B,mBAMCK,EAND,KAMY1D,EANZ,OAOcqD,qBAPd,mBAOCM,EAPD,KAOKzD,EAPL,KAQAD,EAAgB,YACbxB,EAAa,SAChB+E,EAAS,QAETA,EAAS,UAITpD,EAAQC,IAAKC,KAAKC,YAAYC,IAC9BnB,EAAW0D,EAAUrC,MAAK,SAACkD,GAAD,OAAUA,EAAKxD,QAAUA,KACvD,IAAKf,EACH,OAAO,KAET,IAAIwE,EAAYd,EAAUrC,MACxB,SAACoD,GAAD,OAAaA,EAAQpB,UAAYrD,EAASsD,gBAE5C,IAAKkB,EACH,OAAO,KAST,IANAb,EAAUA,EAAQe,QAAO,SAACC,GAAD,OAAYA,EAAO5D,QAAUyD,EAAUzD,UAExD6D,MACN,SAACC,EAAGC,GAAJ,OAAU,IAAIzC,KAAKyC,EAAEC,kBAAoB,IAAI1C,KAAKwC,EAAEE,qBAGhC,IADFpB,EAAQP,OAE1B,OAAO,KAGT,IAAIlD,EAAY8E,YAAczE,GACxBkB,EAAY,SAACC,EAAMxB,GAGvB,IAFA,IAAIyB,EAAI,EACJC,EAAO,EACJD,EAAID,GACTE,GAAc1B,EAAUyB,GAAGE,KAC3BF,IAEF,OAAOC,GAUT,OAJAgC,EAASgB,MACP,SAACC,EAAGC,GAAJ,OAAU,IAAIzC,KAAKwC,EAAEvC,sBAAwB,IAAID,KAAKyC,EAAExC,yBAIxD,6BACE,wBAAI9C,UAAU,iCACZ,6BACE,yBAAKA,UAAU,kCACb,2BAAOA,UAAU,aACf,+BACE,wBAAI0D,MAAM,UACP3C,EAAc,GAAKkB,EAAU,EAAGvB,IAC/B,wBAAIiD,MAAOjD,EAAU,GAAG2B,KACtBnC,QAAS,WACPgB,EAAS,gBACTC,EAAaT,EAAU,GAAG+E,UAC1BrE,MAGF,+BAAQV,EAAU,GAAGgF,OAGxB3E,EAAc,GAAKkB,EAAU,EAAGvB,IAC/B,wBAAIiD,MAAOjD,EAAU,GAAG2B,KACtBnC,QAAS,WACPgB,EAAS,gBACTC,EAAaT,EAAU,GAAG+E,UAC1BrE,MAGF,+BAAQV,EAAU,GAAGgF,OAGxB3E,EAAc,GAAKkB,EAAU,EAAGvB,IAC/B,wBAAIiD,MAAOjD,EAAU,GAAG2B,KACtBnC,QAAS,WACPgB,EAAS,gBACTC,EAAaT,EAAU,GAAG+E,UAC1BrE,MAGF,+BAAQV,EAAU,GAAGgF,OAGxB3E,EAAc,GAAKkB,EAAU,EAAGvB,IAC/B,wBACEiD,MAAOjD,EAAU,GAAG2B,KACpBnC,QAAS,WACPgB,EAAS,gBACTC,EAAaT,EAAU,GAAG+E,UAC1BrE,MAGF,+BAAQV,EAAU,GAAGgF,OAGxB3E,EAAc,GAAKkB,EAAU,EAAGvB,IAC/B,wBACEiD,MAAOjD,EAAU,GAAG2B,KACpBnC,QAAS,WACPgB,EAAS,gBACTC,EAAaT,EAAU,GAAG+E,UAC1BrE,MAGF,+BAAQV,EAAU,GAAGgF,OAGxB3E,EAAc,GAAKkB,EAAU,EAAGvB,IAC/B,wBAAIiD,MAAOjD,EAAU,GAAG2B,KACtBnC,QAAS,WACPgB,EAAS,gBACTC,EAAaT,EAAU,GAAG+E,UAC1BrE,MAGF,+BAAQV,EAAU,GAAGgF,OAGxB3E,EAAc,GAAKkB,EAAU,EAAGvB,IAC/B,wBAAIiD,MAAOjD,EAAU,GAAG2B,KACtBnC,QAAS,WACPgB,EAAS,gBACTC,EAAaT,EAAU,GAAG+E,UAC1BrE,MAGF,+BAAQV,EAAU,GAAGgF,OAGxB3E,EAAc,GAAKkB,EAAU,EAAGvB,IAC/B,wBAAIiD,MAAOjD,EAAU,GAAG2B,KACtBnC,QAAS,WACPgB,EAAS,gBACTC,EAAaT,EAAU,GAAG+E,UAC1BrE,MAGF,+BAAQV,EAAU,GAAGgF,OAGxB3E,EAAc,GAAKkB,EAAU,EAAGvB,IAC/B,wBAAIiD,MAAOjD,EAAU,GAAG2B,KACtBnC,QAAS,WACPgB,EAAS,gBACTC,EAAaT,EAAU,GAAG+E,UAC1BrE,MAEF,+BAAQV,EAAU,GAAGgF,OAGxB3E,EAAc,GAAKkB,EAAU,GAAIvB,IAChC,wBAAIiD,MAAOjD,EAAU,GAAG2B,KACtBnC,QAAS,WACPgB,EAAS,gBACTC,EAAaT,EAAU,GAAG+E,UAC1BrE,MAGF,+BAAQV,EAAU,GAAGgF,OAGxB3E,EAAc,GAAKkB,EAAU,GAAIvB,IAChC,wBAAIiD,MAAOjD,EAAU,IAAI2B,KACvBnC,QAAS,WACPgB,EAAS,gBACTC,EAAaT,EAAU,IAAI+E,UAC3BrE,MAGF,+BAAQV,EAAU,IAAIgF,OAGzB3E,EAAc,GAAKkB,EAAU,GAAIvB,IAChC,wBAAIiD,MAAOjD,EAAU,IAAI2B,KACvBnC,QAAS,WACPgB,EAAS,gBACTC,EAAaT,EAAU,IAAI+E,UAC3BrE,MAGF,+BAAQV,EAAU,IAAIgF,OAGzB3E,EAAc,GAAKkB,EAAU,GAAIvB,IAChC,wBAAIiD,MAAOjD,EAAU,IAAI2B,KACvBnC,QAAS,WACPgB,EAAS,gBACTC,EAAaT,EAAU,IAAI+E,UAC3BrE,MAGF,+BAAQV,EAAU,IAAIgF,OAGzB3E,EAAc,GAAKkB,EAAU,GAAIvB,IAChC,wBAAIiD,MAAOjD,EAAU,IAAI2B,KACvBnC,QAAS,WACPgB,EAAS,gBACTC,EAAaT,EAAU,IAAI+E,UAC3BrE,MAGF,+BAAQV,EAAU,IAAIgF,WAOlC,kBAACrF,EAAD,CACEE,MAAOA,EAEPE,YAAa2D,EAGbE,WAAYA,EACZ1D,YAAaA,EACbC,cAAeA,EACf0D,cAAeA,EACf5D,mBAAoBA,EACpBG,qBAAsBA,EAGtBC,YAAaA,EACbC,cAAeA,EACfC,aAAcA,EACdC,SAAUA,EACVC,aAAcA,EACdC,cAAeA,EACfC,MAAOA,EACPzB,WAAYA,EAGZc,UAAWA,EACXF,SAAUA,IAEH,cAARoE,GACC,kBAACe,EAAA,EAAD,CACE/F,WAAYA,EACZC,UAAWgF,EACX/E,cAAe6E,EACfG,GAAIA,EACJc,cAAevB,IAGV,eAARO,GACC,kBAACe,EAAA,EAAD,CACE/F,WAAYA,EACZC,UAAWgF,EACX/E,cAAe6E,EACfG,GAAIA,EACJc,cAAerB,IAGV,iBAARK,GACC,kBAACjF,EAAA,EAAD,CACEC,WAAYA,EACZC,UAAWgF,EACX/E,cAAe6E,IAGnB,kBAACkB,EAAA,EAAD,CACEjG,WAAY6E,EACZ5E,UAAW6E,EACX5E,cAAekB,KAGnB,yBAAKhB,UAAU,wC,gBC9SnB8F,EAAWxF,gBAAK,YAAsB,IAAnBS,EAAkB,EAAlBA,YAEnBgF,EAAQvE,IAAKC,KAAKC,YAAYqE,MAClCA,EAAQA,EAAMC,MAAM,KAAK,GAHgB,MA0BrCC,qBAAWC,KArBb/B,EALuC,EAKvCA,QACA5D,EANuC,EAMvCA,MACA2D,EAPuC,EAOvCA,UAEAiC,EATuC,EASvCA,QACAC,EAVuC,EAUvCA,aACAC,EAXuC,EAWvCA,WACAC,EAZuC,EAYvCA,eAEAC,EAduC,EAcvCA,WACAC,EAfuC,EAevCA,aACAnC,EAhBuC,EAgBvCA,aAEAD,EAlBuC,EAkBvCA,SACAE,EAnBuC,EAmBvCA,WACA1D,EApBuC,EAoBvCA,YACAC,EArBuC,EAqBvCA,cACAF,EAtBuC,EAsBvCA,mBACAG,EAvBuC,EAuBvCA,qBACAyD,EAxBuC,EAwBvCA,cACAkC,EAzBuC,EAyBvCA,cASF,OAPAC,qBAAU,WACRN,IACAC,IACAC,IACAG,MAEC,IAED,6BACE,+BAAQV,GACPI,EACC,kBAACQ,EAAA,EAAD,MAEA,kBAAC3C,EAAD,CACAG,QAASA,EACT5D,MAAOA,EACP2D,UAAWA,EACXqC,WAAYA,EACZC,aAAcA,EACdnC,aAAcA,EACdC,WAAYA,EACZ1D,YAAaA,EACbC,cAAeA,EACf0D,cAAeA,EACfN,WAlDa,yDAmDblD,YAAaA,EACbqD,SAAUA,EACVzD,mBAAoBA,EACpBG,qBAAsBA,QAOfgF","file":"static/js/13.3bb61a52.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nexport const ShowBox = ({ modalClass, modalText, modalFunction }) => {\r\n  let setClass = () => {\r\n    modalFunction(\"modal\");\r\n  };\r\n  return (\r\n    <div id={modalClass}>\r\n      <div className=\"showWindow\">\r\n        <div className={modalClass}>\r\n          <div className=\"top-show-content\">\r\n            <button\r\n              id=\"deleteShowModal\"\r\n              type=\"button\"\r\n              className=\"btn btn-outline-secondary btn-sm\"\r\n              onClick={() => setClass()}\r\n            >\r\n              &times;\r\n            </button>\r\n            <p>{modalText}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React, { memo } from \"react\";\r\nimport { TransitionGroup, CSSTransition } from \"react-transition-group\";\r\nimport { CreateProject } from \"./CreateProject\";\r\nimport { ProjectDataArray } from \"../helpComponents/dataFunctions\";\r\nimport fire from \"../config/Fire\";\r\nvar moment = require(\"moment\");\r\n\r\nexport const AllProjectsComponent = memo(\r\n  ({\r\n    dates,\r\n    userInfo,\r\n    newProjects,\r\n    sizeArray,\r\n    openProject,\r\n    clouseProject,\r\n    openCurrentProject,\r\n    clouseCurrentProject,\r\n\r\n    windowWidth,\r\n    setAlertClass,\r\n    setAlertText,\r\n    setFunct,\r\n    setModalText,\r\n    setModalClass,\r\n    setId,\r\n    modalClass,\r\n    openClientTableClass,\r\n  }) => {\r\n    let dataListWarningText =\r\n      \"Видалення проекту! Для видалення клієнту необхідно видалити всі проекти!!!\";\r\n    let owner = fire.auth.currentUser.uid;\r\n    let ownerDates = dates.find((date) => date.owner === owner);\r\n    if (!ownerDates) {\r\n      ownerDates = {\r\n        dateStart: \"1970-01-01T00:00\",\r\n        dateFinish: \"2070-01-01T00:00\",\r\n      };\r\n    }\r\n    const summArray = (numb, sizeArray) => {\r\n      let i = 0;\r\n      let summ = 0;\r\n      while (i < numb) {\r\n        summ = summ + sizeArray[i].size;\r\n        i++;\r\n      }\r\n      return summ;\r\n    };\r\n    //-----------------------RENDER----------------->\r\n    return (\r\n      <form>\r\n        <TransitionGroup component=\"ul\" className=\"project-group\">\r\n          {newProjects.map((project) => {\r\n            let newRoutes = [];\r\n            // let newRoutes = routes.filter(\r\n            //   (route) => route.routeOwner === project.id\r\n            // );\r\n            //newRoutes.sort((a, b) => a.routNumber - b.routNumber);\r\n            //let listLiquids = NewListLiquidsCount(newRoutes);\r\n\r\n            //--PROJECTS DATA ARRAY-------------------------->\r\n            const projectDataArray = ProjectDataArray(project);\r\n            //--DYNAMIC CLASSES ----------------------------->\r\n            let projectReadinessDateClass = (moment(new Date(project.projectReadinessDate))\r\n              .format(\"YYYY-MM-DD\") >= moment(new Date())\r\n                .format(\"YYYY-MM-DD\")) ? \"goodTime\" : \"badTime\";\r\n            let signaturуOfActClass = (project.signaturуOfAct === \"Так\") ? \"good\" : \"bad\";\r\n            let poketExistenceClass = (project.poketExistence === \"Так\") ? \"good\" : \"bad\";\r\n            let contractExistenceClass = (project.contractExistence === \"Так\") ? \"good\" : \"bad\";\r\n            return (\r\n              <CSSTransition\r\n                key={project.id}\r\n                classNames={\"note\"}\r\n                timeout={800}\r\n              >\r\n                <li\r\n                  key={project.id}\r\n                  className=\"project-group-item projectInnerLi\"\r\n                >\r\n                  {!project.openProject && (\r\n                    <div key={project.id} className=\"projectBasis\">\r\n                      <div className=\"d-flex justify-content-between\">\r\n                        <table\r\n                          className=\"projectTable\"\r\n                          onClick={() => openCurrentProject(project)}\r\n                        >\r\n                          <tbody>\r\n                            <tr align=\"center\">\r\n                              {windowWidth > 75 + summArray(1, sizeArray) && (\r\n                                <td width={sizeArray[0].size} className=\"head\">\r\n                                  <small className=\"projectName\"\r\n                                  >{projectDataArray[0]}</small>\r\n                                </td>\r\n                              )}\r\n                              {windowWidth > 75 + summArray(2, sizeArray) && (\r\n                                <td width={sizeArray[1].size}\r\n                                  className={`head ${projectReadinessDateClass}`}>\r\n                                  <small className=\"smallProjectDateBold\"\r\n                                  >{`${moment(\r\n                                    projectDataArray[1]\r\n                                  ).format(\"DD.MM.YY\")}`}</small>\r\n                                </td>\r\n                              )}\r\n                              {windowWidth > 75 + summArray(3, sizeArray) && (\r\n                                <td width={sizeArray[2].size}>\r\n                                  <small\r\n                                    className={contractExistenceClass}\r\n                                  >{projectDataArray[2]}</small>\r\n                                </td>\r\n                              )}\r\n                              {windowWidth > 75 + summArray(4, sizeArray) && (\r\n                                <td width={sizeArray[3].size}>\r\n                                  <small\r\n                                    className={signaturуOfActClass\r\n                                    }>{projectDataArray[3]}</small>\r\n                                </td>\r\n                              )}\r\n                              {windowWidth > 75 + summArray(5, sizeArray) && (\r\n                                <td width={sizeArray[4].size}>\r\n                                  <small\r\n                                    className={poketExistenceClass}\r\n                                  >{projectDataArray[4]}</small>\r\n                                </td>\r\n                              )}\r\n                              {windowWidth > 75 + summArray(6, sizeArray) && (\r\n                                <td width={sizeArray[5].size}>\r\n                                  <small>{projectDataArray[5]}</small>\r\n                                </td>\r\n                              )}\r\n                              {windowWidth > 75 + summArray(7, sizeArray) && (\r\n                                <td width={sizeArray[6].size}>\r\n                                  <small>{projectDataArray[6]}</small>\r\n                                </td>\r\n                              )}\r\n                              {windowWidth > 75 + summArray(8, sizeArray) && (\r\n                                <td width={sizeArray[7].size}>\r\n                                  <small>{projectDataArray[7]}</small>\r\n                                </td>\r\n                              )}\r\n                              {windowWidth > 75 + summArray(9, sizeArray) && (\r\n                                <td width={sizeArray[8].size} className=\"head\">\r\n                                  <small>{`${moment(\r\n                                    projectDataArray[8]\r\n                                  ).format(\"DD.MM.YY\")}`}</small>\r\n                                </td>\r\n                              )}\r\n                              {windowWidth > 75 + summArray(10, sizeArray) && (\r\n                                <td width={sizeArray[9].size}>\r\n                                  <small>{projectDataArray[9]}</small>\r\n                                </td>\r\n                              )}\r\n                              {windowWidth >\r\n                                75 + summArray(11, sizeArray) && (\r\n                                  <td width={sizeArray[10].size}>\r\n                                    <small>{projectDataArray[10]}</small>\r\n                                  </td>\r\n                                )}\r\n                              {windowWidth >\r\n                                75 + summArray(12, sizeArray) && (\r\n                                  <td width={sizeArray[11].size}>\r\n                                    <small>\r\n                                      {projectDataArray[11]}\r\n                                    </small>\r\n                                  </td>\r\n                                )}\r\n                              {windowWidth >\r\n                                75 + summArray(13, sizeArray) && (\r\n                                  <td width={sizeArray[12].size}>\r\n                                    <small>{projectDataArray[12]}</small>\r\n                                  </td>\r\n                                )}\r\n                              {windowWidth >\r\n                                75 + summArray(14, sizeArray) && (\r\n                                  <td width={sizeArray[13].size}>\r\n                                    <small>{projectDataArray[13]}</small>\r\n                                  </td>\r\n                                )}\r\n                            </tr>\r\n                          </tbody>\r\n                        </table>\r\n                        {!project.openProject &\r\n                          !newRoutes.length &\r\n                          (userInfo.company === userInfo.jointCompany)\r\n                          //& (userInfo.owner === client.owner) \r\n                          && (\r\n                            <button\r\n                              id=\"deleteProjectBtn\"\r\n                              type=\"button\"\r\n                              className=\"btn btn-outline-danger btn-sm deleteProjectBtn\"\r\n                              onClick={() => {\r\n                                setId(project.id);\r\n                                setFunct(\"removeList\");\r\n                                setModalText(dataListWarningText);\r\n                                setModalClass();\r\n                              }}\r\n                            >\r\n                              Х\r\n                            </button>\r\n                          )}\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                  <div>\r\n                    <div\r\n                      className=\"clouseProjectBasis\"\r\n                      onClick={() => clouseCurrentProject(project)}\r\n                    >\r\n                      {project.openProject && (\r\n                        <table className=\"clouseProjectForm\">\r\n                          <tbody>\r\n                            <tr className=\"clouseProjectTableButton\">\r\n                              <td>Закрити форму проекта</td>\r\n                            </tr>\r\n                          </tbody>\r\n                        </table>\r\n                      )}\r\n                    </div>\r\n                    {project.openProject && (\r\n                      <CreateProject\r\n                        className={openClientTableClass}\r\n                        //client={client}\r\n                        project={project}\r\n                        setAlertText={setAlertText}\r\n                        setAlertClass={setAlertClass}\r\n                        newProjects={newProjects}\r\n                        userInfo={userInfo}\r\n                      />\r\n                    )}\r\n                  </div>\r\n                </li>\r\n              </CSSTransition>\r\n            );\r\n          })}\r\n        </TransitionGroup>\r\n        {/* <div className=\"d-flex justify-content-between projectButtonsGrup\">\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn btn-outline-primary btn-sm addProjectBtn\"\r\n              onClick={() => openProject(client)}\r\n              style={{ marginRight: 4 }}\r\n            >\r\n              + Проект\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn btn-outline-info btn-sm closeProjectBtn\"\r\n              onClick={() => clouseProject(client)}\r\n              style={{ marginRight: 4 }}\r\n            >\r\n              Закрити\r\n            </button>\r\n          </div> */}\r\n        {/* {client.openProject && (\r\n          <CreateProject\r\n            client={client}\r\n            setAlertText={setAlertText}\r\n            setAlertClass={setAlertClass}\r\n            newProjects={newProjects}\r\n            userInfo={userInfo}\r\n          />\r\n        )} */}\r\n      </form>\r\n    );\r\n  }\r\n);\r\n","import React, { memo, useState } from \"react\";\r\nimport { ModalBox } from \"./ModalBox\";\r\nimport { AlertBox } from \"./AlertBox\";\r\nimport { ShowBox } from \"./ShowBox\";\r\nimport fire from \"../config/Fire\";\r\nimport { AllProjectsComponent } from \"./AllProjectsComponent\";\r\nimport {SizeNameArray} from \"../helpComponents/dataFunctions\";\r\n\r\nexport const AllProjects = memo(\r\n  ({\r\n    //---COMMON DATES ----------------------->\r\n    windowWidth,\r\n    clientType,\r\n    //---COMMON STATE ----------------------->\r\n    dates,\r\n    userInfos,\r\n    clients,\r\n    projects,\r\n    //---CLIENT FUNCTIONS ------------------->\r\n    removeClient,\r\n    //---PROJECTS FUNCTIONS ----------------->\r\n    addProject,\r\n    openProject,\r\n    clouseProject,\r\n    removeProject,\r\n    openCurrentProject,\r\n    clouseCurrentProject,\r\n  }) => {\r\n    //---Alert functions block---------------->\r\n    let [alertClass, setAlertClass] = useState(\"modal\");\r\n    let [alertText, setAlertText] = useState(\"\");\r\n    let [modalClass, setClass] = useState(\"modal\");\r\n    let [fun, setFunct] = useState(\"\");\r\n    let [textModal, setModalText] = useState();\r\n    let [Id, setId] = useState();\r\n    let setModalClass = () => {\r\n      if ((modalClass = \"modal\")) {\r\n        setClass(\"open\");\r\n      } else {\r\n        setClass(\"modal\");\r\n      }\r\n    };\r\n    //--Create user data----------------------->\r\n    var owner = fire.auth.currentUser.uid;\r\n    let userInfo = userInfos.find((info) => info.owner === owner);\r\n    if (!userInfo) {\r\n      return null;\r\n    }\r\n    let userInUse = userInfos.find(\r\n      (infoUse) => infoUse.company === userInfo.jointCompany\r\n    );\r\n    if (!userInUse) {\r\n      return null;\r\n    }\r\n    //--Create clients data array--------------->\r\n    clients = clients.filter((client) => client.owner === userInUse.owner);\r\n    //clients = clients.filter((client) => client.clientType === clientType);\r\n    clients.sort(\r\n      (a, b) => new Date(b.registrationDate) - new Date(a.registrationDate)\r\n    );\r\n    let clientsExists = clients.length;\r\n    if (clientsExists === 0) {\r\n      return null;\r\n    }\r\n    //--TABLE FUNCTION-------------------------->\r\n    let sizeArray = SizeNameArray(windowWidth);\r\n    const summArray = (numb, sizeArray) => {\r\n      let i = 0;\r\n      let summ = 0;\r\n      while (i < numb) {\r\n        summ = summ + sizeArray[i].size;\r\n        i++;\r\n      }\r\n      return summ;\r\n    };\r\n    //--------------------Create projects----------------------->\r\n    // let newProjects = projects.filter(\r\n    //   (project) => project.projectOwner === client.id\r\n    // );\r\n    projects.sort(\r\n      (a, b) => new Date(a.projectReadinessDate) - new Date(b.projectReadinessDate)\r\n    );\r\n    //-------------------Progects render block------------------>\r\n    return (\r\n      <div>\r\n        <li className=\"list-group-item clientInnerLi\">\r\n          <div>\r\n            <div className=\"d-flex justify-content-between\">\r\n              <table className=\"headTable\">\r\n                <tbody>\r\n                  <tr align=\"center\">\r\n                    {windowWidth > 75 + summArray(1, sizeArray) && (\r\n                      <td width={sizeArray[0].size}\r\n                        onClick={() => {\r\n                          setFunct(\"showFunction\");\r\n                          setModalText(sizeArray[0].fullName);\r\n                          setModalClass();\r\n                        }}\r\n                      >\r\n                        <small>{sizeArray[0].name}</small>\r\n                      </td>\r\n                    )}\r\n                    {windowWidth > 75 + summArray(2, sizeArray) && (\r\n                      <td width={sizeArray[1].size}\r\n                        onClick={() => {\r\n                          setFunct(\"showFunction\");\r\n                          setModalText(sizeArray[1].fullName);\r\n                          setModalClass();\r\n                        }}\r\n                      >\r\n                        <small>{sizeArray[1].name}</small>\r\n                      </td>\r\n                    )}\r\n                    {windowWidth > 75 + summArray(3, sizeArray) && (\r\n                      <td width={sizeArray[2].size}\r\n                        onClick={() => {\r\n                          setFunct(\"showFunction\");\r\n                          setModalText(sizeArray[2].fullName);\r\n                          setModalClass();\r\n                        }}\r\n                      >\r\n                        <small>{sizeArray[2].name}</small>\r\n                      </td>\r\n                    )}\r\n                    {windowWidth > 75 + summArray(4, sizeArray) && (\r\n                      <td\r\n                        width={sizeArray[3].size}\r\n                        onClick={() => {\r\n                          setFunct(\"showFunction\");\r\n                          setModalText(sizeArray[3].fullName);\r\n                          setModalClass();\r\n                        }}\r\n                      >\r\n                        <small>{sizeArray[3].name}</small>\r\n                      </td>\r\n                    )}\r\n                    {windowWidth > 75 + summArray(5, sizeArray) && (\r\n                      <td\r\n                        width={sizeArray[4].size}\r\n                        onClick={() => {\r\n                          setFunct(\"showFunction\");\r\n                          setModalText(sizeArray[4].fullName);\r\n                          setModalClass();\r\n                        }}\r\n                      >\r\n                        <small>{sizeArray[4].name}</small>\r\n                      </td>\r\n                    )}\r\n                    {windowWidth > 75 + summArray(6, sizeArray) && (\r\n                      <td width={sizeArray[5].size}\r\n                        onClick={() => {\r\n                          setFunct(\"showFunction\");\r\n                          setModalText(sizeArray[5].fullName);\r\n                          setModalClass();\r\n                        }}\r\n                      >\r\n                        <small>{sizeArray[5].name}</small>\r\n                      </td>\r\n                    )}\r\n                    {windowWidth > 75 + summArray(7, sizeArray) && (\r\n                      <td width={sizeArray[6].size}\r\n                        onClick={() => {\r\n                          setFunct(\"showFunction\");\r\n                          setModalText(sizeArray[6].fullName);\r\n                          setModalClass();\r\n                        }}\r\n                      >\r\n                        <small>{sizeArray[6].name}</small>\r\n                      </td>\r\n                    )}\r\n                    {windowWidth > 75 + summArray(8, sizeArray) && (\r\n                      <td width={sizeArray[7].size}\r\n                        onClick={() => {\r\n                          setFunct(\"showFunction\");\r\n                          setModalText(sizeArray[7].fullName);\r\n                          setModalClass();\r\n                        }}\r\n                      >\r\n                        <small>{sizeArray[7].name}</small>\r\n                      </td>\r\n                    )}\r\n                    {windowWidth > 75 + summArray(9, sizeArray) && (\r\n                      <td width={sizeArray[8].size}\r\n                        onClick={() => {\r\n                          setFunct(\"showFunction\");\r\n                          setModalText(sizeArray[8].fullName);\r\n                          setModalClass();\r\n                        }}>\r\n                        <small>{sizeArray[8].name}</small>\r\n                      </td>\r\n                    )}\r\n                    {windowWidth > 75 + summArray(10, sizeArray) && (\r\n                      <td width={sizeArray[9].size}\r\n                        onClick={() => {\r\n                          setFunct(\"showFunction\");\r\n                          setModalText(sizeArray[9].fullName);\r\n                          setModalClass();\r\n                        }}\r\n                      >\r\n                        <small>{sizeArray[9].name}</small>\r\n                      </td>\r\n                    )}\r\n                    {windowWidth > 75 + summArray(11, sizeArray) && (\r\n                      <td width={sizeArray[10].size}\r\n                        onClick={() => {\r\n                          setFunct(\"showFunction\");\r\n                          setModalText(sizeArray[10].fullName);\r\n                          setModalClass();\r\n                        }}\r\n                      >\r\n                        <small>{sizeArray[10].name}</small>\r\n                      </td>\r\n                    )}\r\n                    {windowWidth > 75 + summArray(12, sizeArray) && (\r\n                      <td width={sizeArray[11].size}\r\n                        onClick={() => {\r\n                          setFunct(\"showFunction\");\r\n                          setModalText(sizeArray[11].fullName);\r\n                          setModalClass();\r\n                        }}\r\n                      >\r\n                        <small>{sizeArray[11].name}</small>\r\n                      </td>\r\n                    )}\r\n                    {windowWidth > 75 + summArray(13, sizeArray) && (\r\n                      <td width={sizeArray[12].size}\r\n                        onClick={() => {\r\n                          setFunct(\"showFunction\");\r\n                          setModalText(sizeArray[12].fullName);\r\n                          setModalClass();\r\n                        }}\r\n                      >\r\n                        <small>{sizeArray[12].name}</small>\r\n                      </td>\r\n                    )}\r\n                    {windowWidth > 75 + summArray(14, sizeArray) && (\r\n                      <td width={sizeArray[13].size}\r\n                        onClick={() => {\r\n                          setFunct(\"showFunction\");\r\n                          setModalText(sizeArray[13].fullName);\r\n                          setModalClass();\r\n                        }}\r\n                      >\r\n                        <small>{sizeArray[13].name}</small>\r\n                      </td>\r\n                    )}\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n            <AllProjectsComponent\r\n              dates={dates}\r\n              //routes={routes}\r\n              newProjects={projects}\r\n              //openNewRoute={openNewRoute}\r\n              //closeNewRoute={closeNewRoute}\r\n              addProject={addProject}\r\n              openProject={openProject}\r\n              clouseProject={clouseProject}\r\n              removeProject={removeProject}\r\n              openCurrentProject={openCurrentProject}\r\n              clouseCurrentProject={clouseCurrentProject}\r\n              //openRoute={openRoute}\r\n              //closeRoute={closeRoute}\r\n              windowWidth={windowWidth}\r\n              setAlertClass={setAlertClass}\r\n              setAlertText={setAlertText}\r\n              setFunct={setFunct}\r\n              setModalText={setModalText}\r\n              setModalClass={setModalClass}\r\n              setId={setId}\r\n              modalClass={modalClass}\r\n              //carRoutes={carRoutes}\r\n              //listCarLiquids={listCarLiquids}\r\n              sizeArray={sizeArray}\r\n              userInfo={userInfo}\r\n            />\r\n            {fun === \"removeCar\" && (\r\n              <ModalBox\r\n                modalClass={modalClass}\r\n                modalText={textModal}\r\n                modalFunction={setClass}\r\n                Id={Id}\r\n                innerFunction={removeClient}\r\n              />\r\n            )}\r\n            {fun === \"removeList\" && (\r\n              <ModalBox\r\n                modalClass={modalClass}\r\n                modalText={textModal}\r\n                modalFunction={setClass}\r\n                Id={Id}\r\n                innerFunction={removeProject}\r\n              />\r\n            )}\r\n            {fun === \"showFunction\" && (\r\n              <ShowBox\r\n                modalClass={modalClass}\r\n                modalText={textModal}\r\n                modalFunction={setClass}\r\n              />\r\n            )}\r\n            <AlertBox\r\n              modalClass={alertClass}\r\n              modalText={alertText}\r\n              modalFunction={setAlertClass}\r\n            />\r\n          </div>\r\n          <div className=\"d-flex justify-content-between\">\r\n            {/* <ExportReactCSV\r\n            csvData={carExelInfo(clients)}\r\n            fileName={\"авто\"}\r\n            textCSV=\"авто.xlx\"\r\n          /> */}\r\n            {/* <ExportReactCSV\r\n            csvData={carLiquidsExelInfo(clients, lists, routes)}\r\n            fileName={\"пммАвто\"}\r\n            textCSV=\"пмм.xlx\"\r\n          /> */}\r\n            {/* <ExportReactCSV\r\n            csvData={carListLiquidsExelInfo(clients, lists, routes)}\r\n            fileName={\"пммЛист\"}\r\n            textCSV=\"листи.xlx\"\r\n          />    */}\r\n          </div>\r\n        </li>\r\n      </div>\r\n    );\r\n  }\r\n);\r\n","import React, { useContext, useEffect, memo } from \"react\";\r\nimport { AllProjects } from \"../components/AllProjects\";\r\nimport { FirebaseContext } from \"../context/fiebase/firebaseContext\";\r\nimport { Loader } from \"../components/Loader\";\r\nimport fire from \"../config/Fire\";\r\n\r\nconst Projects = memo(({ windowWidth }) => {\r\n  const clientType = \"Юрідичний\";\r\n  let email = fire.auth.currentUser.email;\r\n  email = email.split(\"@\")[0];\r\n  const {\r\n    clients,\r\n    dates,\r\n    userInfos,\r\n\r\n    loading,\r\n    fetchClients,\r\n    fetchDates,\r\n    fetchUsersInfo,\r\n\r\n    openClient,\r\n    clouseClient,\r\n    removeClient,\r\n\r\n    projects,\r\n    addProject,\r\n    openProject,\r\n    clouseProject,\r\n    openCurrentProject,\r\n    clouseCurrentProject,\r\n    removeProject,\r\n    fetchProjects,\r\n  } = useContext(FirebaseContext);\r\n  useEffect(() => {\r\n    fetchClients();\r\n    fetchDates();\r\n    fetchUsersInfo();\r\n    fetchProjects();\r\n    // eslint-disable-next-line\r\n  }, []);\r\n  return (\r\n    <div>\r\n      <small>{email}</small>\r\n      {loading ? (\r\n        <Loader />\r\n      ) : (\r\n        <AllProjects\r\n        clients={clients}\r\n        dates={dates}\r\n        userInfos={userInfos}\r\n        openClient={openClient}\r\n        clouseClient={clouseClient}\r\n        removeClient={removeClient}\r\n        addProject={addProject}\r\n        openProject={openProject}\r\n        clouseProject={clouseProject}\r\n        removeProject={removeProject}\r\n        clientType={clientType}\r\n        windowWidth={windowWidth}\r\n        projects={projects}\r\n        openCurrentProject={openCurrentProject}\r\n        clouseCurrentProject={clouseCurrentProject}\r\n      />\r\n      )}\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default Projects;\r\n"],"sourceRoot":""}